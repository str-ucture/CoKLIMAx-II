

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Download Your First Dataset &mdash; Coklimax 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=a1fa38c2" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Use Case: Analysis and Visualization" href="analysis_and_visualization.html" />
    <link rel="prev" title="CoKLIMAx-II Jupyter Notebooks" href="../../rst_jupyter/Einfuehrung_Jupyter.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Coklimax
              <img src="../../_static/coklimax_logo_new.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/SoftwareKenntnisse.html">Required Software and Knowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/Kurs-Elemente.html">The Course Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/CDS.html">The Copernicus Climate Data Store (CDS)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Jupyter-Notebook Library:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst_jupyter/Einfuehrung_Jupyter.html">CoKLIMAx-II Jupyter Notebooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Course 1:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Download Your First Dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dataset-climate-indicator-europe-from-1940-to-2100">Dataset: Climate Indicator Europe from 1940 to 2100</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specifying-the-paths-and-working-directories">1. Specifying the paths and working directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filter-and-download-dataset">2. Filter and Download Dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#authentication">2.1 Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-request-definition">2.2 API Request Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#execute-api-request-and-download">2.3 Execute API Request and Download</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis_and_visualization.html">Use Case: Analysis and Visualization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Course 2:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kurs2/01%20satellite-lake-water-level.html">Satellite Lake Water Levels</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Coklimax</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Download Your First Dataset</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/kurs1/herunterladen_ersten_datensatzes.ipynb.txt" rel="nofollow"> View page source</a>
<div id='language-switcher' style='text-align: right; margin-top: 10px;'>
    <select onchange="location = this.value;">
        <option value='/./CoKLIMAx-II/en/notebooks\kurs1\herunterladen_ersten_datensatzes.html' selected>EN</option>
        <option value='/./CoKLIMAx-II/de/notebooks\kurs1\herunterladen_ersten_datensatzes.html'>DE</option>
    </select>
</div>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="download-your-first-dataset">
<h1>Download Your First Dataset<a class="headerlink" href="#download-your-first-dataset" title="Link to this heading"></a></h1>
<p>ERA5-Land is a high-resolution reanalysis dataset that provides a consistent and detailed view of land variables over several decades, combining model data with atmospheric forcings from ERA5 to ensure accuracy. By correcting input variables for elevation differences and leveraging indirect observational forcings, it provides improved precision for land surface applications such as flood and drought forecasting. Despite some inherent uncertainties, ERA5-Land is a valuable resource for decision-making and environmental analysis due to its comprehensive temporal and spatial resolution.</p>
<section id="dataset-climate-indicator-europe-from-1940-to-2100">
<h2>Dataset: Climate Indicator Europe from 1940 to 2100<a class="headerlink" href="#dataset-climate-indicator-europe-from-1940-to-2100" title="Link to this heading"></a></h2>
<p>• Data source: <a class="reference external" href="https://cds.climate.copernicus.eu/datasets/sis-ecde-climate-indicators?tab=download">Climate Indicator Europe</a><br />
• <a class="reference external" href="https://confluence.ecmwf.int/display/CKB/ECDE+indicators+catalogue+entry%3A+Product+User+Guide">Documentation</a></p>
</section>
<section id="specifying-the-paths-and-working-directories">
<h2>1. Specifying the paths and working directories<a class="headerlink" href="#specifying-the-paths-and-working-directories" title="Link to this heading"></a></h2>
<p>Specifying paths and working directories in Jupyter Notebook is essential for ensuring the notebook correctly accesses and saves files, enabling seamless data loading, script execution, and result storage. It eliminates confusion over file locations, reducing errors and making the code more portable and reproducible across different systems.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># ---- Specify directories below ----</span>
<span class="n">download_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\era5-land-monthly\download&quot;</span>  <span class="c1"># Folder for downloaded data</span>
<span class="c1"># ---- End of user inputs ----</span>

<span class="c1"># Create directories if they do not exist</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">download_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="filter-and-download-dataset">
<h2>2. Filter and Download Dataset<a class="headerlink" href="#filter-and-download-dataset" title="Link to this heading"></a></h2>
<p>This section demonstrates how to download a test dataset from <strong>ERA5-Land Monthly Averaged Data</strong> using the <strong>CDS API</strong>. The dataset focuses on variables from the <strong>“Temperature”</strong> group. The process is divided into three steps:</p>
<ol class="arabic simple">
<li><p><strong>Authentication</strong>: Replace <code class="docutils literal notranslate"><span class="pre">api_key</span></code> with your Personal Access Token from the CDS website. This step ensures secure access to the dataset.</p></li>
<li><p><strong>API Request Definition</strong>: Specify the desired dataset and variables on the CDS download page. Include these parameters in your API request to filter and customize the data retrieval.</p></li>
<li><p><strong>Execute API Request and Download</strong>: Submit the API request and download the dataset based on the defined parameters, ensuring you retrieve only the relevant data.</p></li>
</ol>
<section id="authentication">
<h3>2.1 Authentication<a class="headerlink" href="#authentication" title="Link to this heading"></a></h3>
<p>To access the ERA5-Land Monthly Averaged Data, authentication is required. Follow these steps:</p>
<ul class="simple">
<li><p>Obtain your <strong>Personal Access Token</strong> from the <a class="reference external" href="https://cds.climate.copernicus.eu/">Copernicus Climate Data Store (CDS)</a>.</p></li>
<li><p>Replace the placeholder <code class="docutils literal notranslate"><span class="pre">api_key</span></code> in your code with the token you generated.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cdsapi</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the CDS API client with the specified API key and URL.</span>
<span class="sd">    Ensure your credentials are valid and replace &#39;api_key&#39; with your personal access token.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Replace with your actual API key and URL</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="s2">&quot;fdae60fd-35d4-436f-825c-c63fedab94a4&quot;</span>
    <span class="n">api_url</span> <span class="o">=</span> <span class="s2">&quot;https://cds.climate.copernicus.eu/api&quot;</span>
    
    <span class="c1"># Initialize the CDS API client</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">cdsapi</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">api_url</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">api_key</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;CDS API client initialized successfully.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">client</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="api-request-definition">
<h3>2.2 API Request Definition<a class="headerlink" href="#api-request-definition" title="Link to this heading"></a></h3>
<p>Follow these steps to define your API request for downloading data from <strong>ERA-5 Land Monthly</strong>:</p>
<ol class="arabic">
<li><p>Open this link in your browser: <a class="reference external" href="https://cds.climate.copernicus.eu/datasets/reanalysis-era5-land-monthly-means?tab=download">ERA-5 Land Monthly</a>.</p>
<p><em>Ensure that you are logged into your <a class="reference external" href="https://cds.climate.copernicus.eu/">CDS account</a>.</em></p>
</li>
<li><p>Configure the request fields as follows:</p>
<ol class="arabic simple">
<li><p><strong>Product type</strong>: “Monthly averaged reanalysis”</p></li>
<li><p><strong>Variable</strong>: “2m temperature”</p></li>
</ol>
<img src="./images/era5_land_monthly/01_product_type_and_variable.png" width="650" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
<ol class="arabic simple" start="3">
<li><p><strong>Year</strong>: Click on “<span style="color:blue; text-decoration:underline;">Select all</span>”</p></li>
<li><p><strong>Month</strong>: Click on “<span style="color:blue; text-decoration:underline;">Select all</span></p></li>
<li><p><strong>Time</strong>: “00:00”</p></li>
</ol>
<img src="./images/era5_land_monthly/02_year_month_time.png" width="650" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
<ol class="arabic" start="6">
<li><p><strong>Geographical area</strong>: Choose “Sub-region extraction” and use the following coordinates:</p>
<div align="center">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Direction</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>North</p></td>
<td><p>47.8</p></td>
</tr>
<tr class="row-odd"><td><p>West</p></td>
<td><p>9.0</p></td>
</tr>
<tr class="row-even"><td><p>East</p></td>
<td><p>9.3</p></td>
</tr>
<tr class="row-odd"><td><p>South</p></td>
<td><p>47.6</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
<img src="./images/era5_land_monthly/03_geographical_area.png" width="650" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
<ol class="arabic" start="7">
<li><p><strong>Data format</strong>: “NetCDF4 (Experimental)”</p></li>
<li><p><strong>Download format</strong>: “Unarchieved (not zipped if single file)”</p>
<p><em>Finally, accept the <strong>Terms of use</strong> to proceed.</em></p>
</li>
</ol>
<img src="./images/era5_land_monthly/04_data_format_download_format_terms_of_use.png" width="650" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
</li>
<li><p>After completing Step 2, your API request should resemble the following:</p>
<img src="./images/era5_land_monthly/05_api_request.png" width="650" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
</li>
<li><p><strong>Copy the API request</strong>: Use the provided <strong>dataset</strong> and <strong>request</strong> fields for the next step by copying the generated code.</p></li>
</ol>
<blockquote>
<div><p><strong>Important</strong>: Large datasets result in longer queue and processing times. To optimize, apply filters that are specific to your use case.</p>
</div></blockquote>
</section>
<section id="execute-api-request-and-download">
<h3>2.3 Execute API Request and Download<a class="headerlink" href="#execute-api-request-and-download" title="Link to this heading"></a></h3>
<p>To download the dataset, follow these steps:</p>
<ol class="arabic simple">
<li><p>Replace the placeholders for <strong>dataset</strong> and <strong>request parameters</strong> in the code cell below with the values generated from your API request in the previous step.</p></li>
<li><p>Ensure the <strong>request parameters</strong> match the configuration you defined earlier (e.g., product type, variables, years, months, etc.).</p></li>
<li><p>Run the cell to execute the API request and download the dataset.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the dataset and request parameters</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;reanalysis-era5-land-monthly-means&quot;</span>
<span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;product_type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;monthly_averaged_reanalysis&quot;</span><span class="p">],</span>
    <span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;2m_temperature&quot;</span><span class="p">],</span>
    <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;1950&quot;</span><span class="p">,</span> <span class="s2">&quot;1951&quot;</span><span class="p">,</span> <span class="s2">&quot;1952&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1953&quot;</span><span class="p">,</span> <span class="s2">&quot;1954&quot;</span><span class="p">,</span> <span class="s2">&quot;1955&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1956&quot;</span><span class="p">,</span> <span class="s2">&quot;1957&quot;</span><span class="p">,</span> <span class="s2">&quot;1958&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1959&quot;</span><span class="p">,</span> <span class="s2">&quot;1960&quot;</span><span class="p">,</span> <span class="s2">&quot;1961&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1962&quot;</span><span class="p">,</span> <span class="s2">&quot;1963&quot;</span><span class="p">,</span> <span class="s2">&quot;1964&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1965&quot;</span><span class="p">,</span> <span class="s2">&quot;1966&quot;</span><span class="p">,</span> <span class="s2">&quot;1967&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1968&quot;</span><span class="p">,</span> <span class="s2">&quot;1969&quot;</span><span class="p">,</span> <span class="s2">&quot;1970&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1971&quot;</span><span class="p">,</span> <span class="s2">&quot;1972&quot;</span><span class="p">,</span> <span class="s2">&quot;1973&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1974&quot;</span><span class="p">,</span> <span class="s2">&quot;1975&quot;</span><span class="p">,</span> <span class="s2">&quot;1976&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1977&quot;</span><span class="p">,</span> <span class="s2">&quot;1978&quot;</span><span class="p">,</span> <span class="s2">&quot;1979&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1980&quot;</span><span class="p">,</span> <span class="s2">&quot;1981&quot;</span><span class="p">,</span> <span class="s2">&quot;1982&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1983&quot;</span><span class="p">,</span> <span class="s2">&quot;1984&quot;</span><span class="p">,</span> <span class="s2">&quot;1985&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1986&quot;</span><span class="p">,</span> <span class="s2">&quot;1987&quot;</span><span class="p">,</span> <span class="s2">&quot;1988&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1989&quot;</span><span class="p">,</span> <span class="s2">&quot;1990&quot;</span><span class="p">,</span> <span class="s2">&quot;1991&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1992&quot;</span><span class="p">,</span> <span class="s2">&quot;1993&quot;</span><span class="p">,</span> <span class="s2">&quot;1994&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1995&quot;</span><span class="p">,</span> <span class="s2">&quot;1996&quot;</span><span class="p">,</span> <span class="s2">&quot;1997&quot;</span><span class="p">,</span>
        <span class="s2">&quot;1998&quot;</span><span class="p">,</span> <span class="s2">&quot;1999&quot;</span><span class="p">,</span> <span class="s2">&quot;2000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2001&quot;</span><span class="p">,</span> <span class="s2">&quot;2002&quot;</span><span class="p">,</span> <span class="s2">&quot;2003&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2004&quot;</span><span class="p">,</span> <span class="s2">&quot;2005&quot;</span><span class="p">,</span> <span class="s2">&quot;2006&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2007&quot;</span><span class="p">,</span> <span class="s2">&quot;2008&quot;</span><span class="p">,</span> <span class="s2">&quot;2009&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2010&quot;</span><span class="p">,</span> <span class="s2">&quot;2011&quot;</span><span class="p">,</span> <span class="s2">&quot;2012&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2013&quot;</span><span class="p">,</span> <span class="s2">&quot;2014&quot;</span><span class="p">,</span> <span class="s2">&quot;2015&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2016&quot;</span><span class="p">,</span> <span class="s2">&quot;2017&quot;</span><span class="p">,</span> <span class="s2">&quot;2018&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2019&quot;</span><span class="p">,</span> <span class="s2">&quot;2020&quot;</span><span class="p">,</span> <span class="s2">&quot;2021&quot;</span><span class="p">,</span>
        <span class="s2">&quot;2022&quot;</span><span class="p">,</span> <span class="s2">&quot;2023&quot;</span><span class="p">,</span> <span class="s2">&quot;2024&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;01&quot;</span><span class="p">,</span> <span class="s2">&quot;02&quot;</span><span class="p">,</span> <span class="s2">&quot;03&quot;</span><span class="p">,</span>
        <span class="s2">&quot;04&quot;</span><span class="p">,</span> <span class="s2">&quot;05&quot;</span><span class="p">,</span> <span class="s2">&quot;06&quot;</span><span class="p">,</span>
        <span class="s2">&quot;07&quot;</span><span class="p">,</span> <span class="s2">&quot;08&quot;</span><span class="p">,</span> <span class="s2">&quot;09&quot;</span><span class="p">,</span>
        <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span> <span class="s2">&quot;12&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;00:00&quot;</span><span class="p">],</span>
    <span class="s2">&quot;data_format&quot;</span><span class="p">:</span> <span class="s2">&quot;netcdf&quot;</span><span class="p">,</span>
    <span class="s2">&quot;download_format&quot;</span><span class="p">:</span> <span class="s2">&quot;unarchived&quot;</span><span class="p">,</span>
    <span class="s2">&quot;area&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">47.8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">47.6</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Uncomment and run this cell to download the dataset</span>
<span class="c1"># This dataset takes approximately 3 minutes to proceess and additional 1 minute to download</span>
<span class="c1"># Filesize: 99.2kb</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main_retrieve</span><span class="p">():</span>
    <span class="c1"># This request downloads year 1950 to 2024 data, monthly averaged at 00:00</span>
    <span class="n">dataset_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">_test_data.nc&quot;</span>
    <span class="n">dataset_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">download_folder</span><span class="p">,</span> <span class="n">dataset_filename</span><span class="p">)</span>

    <span class="c1"># Download the dataset only if the dataset has not been downloaded before</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dataset_filepath</span><span class="p">):</span>
        <span class="c1"># Download the dataset with the defined request parameters</span>
        <span class="n">client</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">dataset_filepath</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dataset already downloaded.&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">main</span><span class="p">()</span>
    <span class="n">main_retrieve</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-01-17 14:51:09,522 INFO [2024-09-28T00:00:00] **Welcome to the New Climate Data Store (CDS)!** This new system is in its early days of full operations and still undergoing enhancements and fine tuning. Some disruptions are to be expected. Your 
[feedback](https://jira.ecmwf.int/plugins/servlet/desk/portal/1/create/202) is key to improve the user experience on the new CDS for the benefit of everyone. Thank you.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-01-17 14:51:09,522 INFO [2024-09-26T00:00:00] Watch our [Forum](https://forum.ecmwf.int/) for Announcements, news and other discussed topics.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-01-17 14:51:09,522 INFO [2024-09-16T00:00:00] Remember that you need to have an ECMWF account to use the new CDS. **Your old CDS credentials will not work in new CDS!**
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-01-17 14:51:09,524 WARNING [2024-06-16T00:00:00] CDS API syntax is changed and some keys or parameter names may have also changed. To avoid requests failing, please use the &quot;Show API request code&quot; tool on the dataset Download Form to check you are using the correct syntax for your API request.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CDS API client initialized successfully.
Dataset already downloaded.
</pre></div>
</div>
</div>
</div>
<p>While the code is running, you can monitor the status of your API requests by visiting the <strong>Your requests</strong> section on the <a class="reference external" href="https://cds.climate.copernicus.eu/requests?tab=all">CDS Request page</a>.</p>
<p>This section provides detailed information about the progress, queue status, and completion of your requests.</p>
<img src="./images/era5_land_monthly/06_your_requests.png" width="700" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../rst_jupyter/Einfuehrung_Jupyter.html" class="btn btn-neutral float-left" title="CoKLIMAx-II Jupyter Notebooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="analysis_and_visualization.html" class="btn btn-neutral float-right" title="Use Case: Analysis and Visualization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, str.ucture GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>