

<!DOCTYPE html>
<html class="writer-html5" lang="de" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Temperaturstatistiken f√ºr Europa &mdash; Coklimax 1.0.0 Dokumentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=822aaed9" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=f029ec32"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/translations.js?v=9bf55d28"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script type="application/vnd.jupyter.widget-state+json">{"state": {"0f8f993b8135423c990f498d6e6f18cc": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e66ff4ba36004912b86a3b96b155f235": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "78ac02ea472942dbbd58cd987af814dd": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_0f8f993b8135423c990f498d6e6f18cc", "max": 100.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_e66ff4ba36004912b86a3b96b155f235", "tabbable": null, "tooltip": null, "value": 100.0}}, "fa22b934c92f4c92ae2fe1e02fa5f94d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c4b2ce6633d14c75b84eace76111fe41": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "12ae5b81e9d74c1da56aa16b7b76b0de": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_fa22b934c92f4c92ae2fe1e02fa5f94d", "placeholder": "\u200b", "style": "IPY_MODEL_c4b2ce6633d14c75b84eace76111fe41", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20071986\u2007bis\u20072085:\u2007100%"}}, "30a081d039d040e59201b9302cba6ef5": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "586962e1828749a8bdc67937ea0390e9": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "62449d27fadb47e09e104d6c17940195": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_30a081d039d040e59201b9302cba6ef5", "placeholder": "\u200b", "style": "IPY_MODEL_586962e1828749a8bdc67937ea0390e9", "tabbable": null, "tooltip": null, "value": "\u2007100/100\u2007[00:00&lt;00:00,\u20079322.54it/s]"}}, "e59bcd6e795847c5b556a473b61f987c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "d63d2ff2695a4edeb8cc1e6c7bc2a8f1": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_12ae5b81e9d74c1da56aa16b7b76b0de", "IPY_MODEL_78ac02ea472942dbbd58cd987af814dd", "IPY_MODEL_62449d27fadb47e09e104d6c17940195"], "layout": "IPY_MODEL_e59bcd6e795847c5b556a473b61f987c", "tabbable": null, "tooltip": null}}, "152d63b0c59441068dfc31160820aff1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "4c33bf0633a04c1cac65634608045dd8": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "919db76d1fc0467596a097b86494122e": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_152d63b0c59441068dfc31160820aff1", "max": 100.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_4c33bf0633a04c1cac65634608045dd8", "tabbable": null, "tooltip": null, "value": 100.0}}, "72f7caf11e934a04bdcdf0464fd30eb2": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "007cfa13769648d189a6b40272ad8b1c": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "8e3cd6a719bb42b580e51a96a10b1839": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_72f7caf11e934a04bdcdf0464fd30eb2", "placeholder": "\u200b", "style": "IPY_MODEL_007cfa13769648d189a6b40272ad8b1c", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20071986\u2007bis\u20072085:\u2007100%"}}, "69503561c62b4238a065af39c7d8722d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5fa11b516382411fafcbc4467ee0554e": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "30d8c4bdf13a45babadee4aefa7292bf": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_69503561c62b4238a065af39c7d8722d", "placeholder": "\u200b", "style": "IPY_MODEL_5fa11b516382411fafcbc4467ee0554e", "tabbable": null, "tooltip": null, "value": "\u2007100/100\u2007[00:00&lt;00:00,\u20078669.14it/s]"}}, "ff869b5ed7e248219108a6372d9841cb": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "10cfb2f3eb6a4446b9649bae022e66c2": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_8e3cd6a719bb42b580e51a96a10b1839", "IPY_MODEL_919db76d1fc0467596a097b86494122e", "IPY_MODEL_30d8c4bdf13a45babadee4aefa7292bf"], "layout": "IPY_MODEL_ff869b5ed7e248219108a6372d9841cb", "tabbable": null, "tooltip": null}}, "f870c3f7b2304fd682675680b8c6402e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "cd4922ca64534e35bb17ab176160342d": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "754e073288ff4f9d92061647360d5fc8": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_f870c3f7b2304fd682675680b8c6402e", "max": 100.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_cd4922ca64534e35bb17ab176160342d", "tabbable": null, "tooltip": null, "value": 100.0}}, "487c44f4aa104e02bbe9485e7bca8491": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "dd89cbe133024674a938395453f9e5a3": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "9b2fc4902dbd431cadee56cb950880c0": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_487c44f4aa104e02bbe9485e7bca8491", "placeholder": "\u200b", "style": "IPY_MODEL_dd89cbe133024674a938395453f9e5a3", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20071986\u2007bis\u20072085:\u2007100%"}}, "bea68ec6484d4190abc0821df8b8f84a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "1cbd30b4f35a41c7848d9c44e4114d89": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "8c4cb3a09b0e41eea024152f3fa0a39e": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_bea68ec6484d4190abc0821df8b8f84a", "placeholder": "\u200b", "style": "IPY_MODEL_1cbd30b4f35a41c7848d9c44e4114d89", "tabbable": null, "tooltip": null, "value": "\u2007100/100\u2007[00:00&lt;00:00,\u200710363.21it/s]"}}, "adfe1b6fa2f042a9a9bc30b0ad4986af": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3bbd3dfb72e34db38d84f2f34ef3b6ad": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_9b2fc4902dbd431cadee56cb950880c0", "IPY_MODEL_754e073288ff4f9d92061647360d5fc8", "IPY_MODEL_8c4cb3a09b0e41eea024152f3fa0a39e"], "layout": "IPY_MODEL_adfe1b6fa2f042a9a9bc30b0ad4986af", "tabbable": null, "tooltip": null}}, "ab05a83028ee4e9490b33a2116833967": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "81421786a3dd4c558768f40ad2e32d81": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "d9eada49a27040b18abe04453bf8d65c": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_ab05a83028ee4e9490b33a2116833967", "max": 100.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_81421786a3dd4c558768f40ad2e32d81", "tabbable": null, "tooltip": null, "value": 100.0}}, "924e1970709a4389aaf2f9ab3d8cf9b7": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5313f3ec37204e22bb5e4e1b4e1de8f1": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "cc3dc85d1fe0448db3abcffd5fe11424": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_924e1970709a4389aaf2f9ab3d8cf9b7", "placeholder": "\u200b", "style": "IPY_MODEL_5313f3ec37204e22bb5e4e1b4e1de8f1", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20071986\u2007bis\u20072085:\u2007100%"}}, "7f40c4b5445641debfd877f640298208": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3b3a1f338c3247ad9925527cd02e25eb": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "7fa4cc3ec96748028a5d2155ebdf2710": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_7f40c4b5445641debfd877f640298208", "placeholder": "\u200b", "style": "IPY_MODEL_3b3a1f338c3247ad9925527cd02e25eb", "tabbable": null, "tooltip": null, "value": "\u2007100/100\u2007[00:00&lt;00:00,\u200710577.52it/s]"}}, "8e585b01675f40158e4cae00f7d06a4e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "5aac4a50efbc4650a9a7cd331c7740d2": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_cc3dc85d1fe0448db3abcffd5fe11424", "IPY_MODEL_d9eada49a27040b18abe04453bf8d65c", "IPY_MODEL_7fa4cc3ec96748028a5d2155ebdf2710"], "layout": "IPY_MODEL_8e585b01675f40158e4cae00f7d06a4e", "tabbable": null, "tooltip": null}}, "6f2473ff22e94fde8209623b89d11950": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "3182696c1437465d9870a8e5dd97e7f8": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "6ab135714a774284bba872231301190c": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_6f2473ff22e94fde8209623b89d11950", "max": 100.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_3182696c1437465d9870a8e5dd97e7f8", "tabbable": null, "tooltip": null, "value": 100.0}}, "ec1b7e31493243ae82663efbc0ec6f06": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "e004e5ed263746179de7175365764ca1": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "d3e9429bb8b849adbce5debbf28b5716": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_ec1b7e31493243ae82663efbc0ec6f06", "placeholder": "\u200b", "style": "IPY_MODEL_e004e5ed263746179de7175365764ca1", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20071986\u2007bis\u20072085:\u2007100%"}}, "c1807d221a4f457d9b7a89816560b3b3": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fe99691e1b2c47fabb3b15bbba21ff04": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "945244fc9a114ec5a97cf98aca21dd12": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_c1807d221a4f457d9b7a89816560b3b3", "placeholder": "\u200b", "style": "IPY_MODEL_fe99691e1b2c47fabb3b15bbba21ff04", "tabbable": null, "tooltip": null, "value": "\u2007100/100\u2007[00:00&lt;00:00,\u20079922.65it/s]"}}, "75bf1f896fa04e3daacab79a1647cf96": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "bb5d08d9c7dc4345842ef8615a4669da": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_d3e9429bb8b849adbce5debbf28b5716", "IPY_MODEL_6ab135714a774284bba872231301190c", "IPY_MODEL_945244fc9a114ec5a97cf98aca21dd12"], "layout": "IPY_MODEL_75bf1f896fa04e3daacab79a1647cf96", "tabbable": null, "tooltip": null}}, "e0ff281f1d064df3aa454d7c24c1ba1d": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "c5f64b6ba64c4a6eb06e8dbea518fee4": {"model_name": "ProgressStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "ProgressStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "bar_color": null, "description_width": ""}}, "b042671dc55f444dbeaf05e8f2a61214": {"model_name": "FloatProgressModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "FloatProgressModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "ProgressView", "bar_style": "success", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_e0ff281f1d064df3aa454d7c24c1ba1d", "max": 21.0, "min": 0.0, "orientation": "horizontal", "style": "IPY_MODEL_c5f64b6ba64c4a6eb06e8dbea518fee4", "tabbable": null, "tooltip": null, "value": 21.0}}, "5db55bbc3bb84713887189bc0866a07e": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "fc88515574144f5abbc47028980a442e": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "173f5614a09f4fdcbd4c23757a1d29ff": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_5db55bbc3bb84713887189bc0866a07e", "placeholder": "\u200b", "style": "IPY_MODEL_fc88515574144f5abbc47028980a442e", "tabbable": null, "tooltip": null, "value": "Exportiere\u2007zusammengef\u00fchrte\u2007GeoTIFF-Datei\u2007von\u20072000\u2007bis\u20072020:\u2007100%"}}, "5e1e9163bb02424a818cc232b7af64e1": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "270fbf83fe394f58bf556bce84ab6021": {"model_name": "HTMLStyleModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLStyleModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "StyleView", "background": null, "description_width": "", "font_size": null, "text_color": null}}, "08daa9cd17224387ac91121fe656d992": {"model_name": "HTMLModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HTMLModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HTMLView", "description": "", "description_allow_html": false, "layout": "IPY_MODEL_5e1e9163bb02424a818cc232b7af64e1", "placeholder": "\u200b", "style": "IPY_MODEL_270fbf83fe394f58bf556bce84ab6021", "tabbable": null, "tooltip": null, "value": "\u200721/21\u2007[00:00&lt;00:00,\u20074554.78it/s]"}}, "91ea8446aa0c4b568f7ccc0420dd4272": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "f0584c3e60124345bdb88e654a619e56": {"model_name": "HBoxModel", "model_module": "@jupyter-widgets/controls", "model_module_version": "2.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/controls", "_model_module_version": "2.0.0", "_model_name": "HBoxModel", "_view_count": null, "_view_module": "@jupyter-widgets/controls", "_view_module_version": "2.0.0", "_view_name": "HBoxView", "box_style": "", "children": ["IPY_MODEL_173f5614a09f4fdcbd4c23757a1d29ff", "IPY_MODEL_b042671dc55f444dbeaf05e8f2a61214", "IPY_MODEL_08daa9cd17224387ac91121fe656d992"], "layout": "IPY_MODEL_91ea8446aa0c4b568f7ccc0420dd4272", "tabbable": null, "tooltip": null}}}, "version_major": 2, "version_minor": 0}</script>
      <script crossorigin="anonymous" data-jupyter-widgets-cdn="https://cdn.jsdelivr.net/npm/" src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@1.0.6/dist/embed-amd.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="√úber CoKLIMAx-II Notebooks" href="../../rst_jupyter_bibliothek/index.html" />
    <link rel="prev" title="Seewassertemperatur aus Satellitendaten abgeleitet" href="02-satellite-lake-water-temperature.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Coklimax
              <img src="../../_static/coklimax_logo_new.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Dokumentation durchsuchen" aria-label="Dokumentation durchsuchen" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Inhalte:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/01-softwarekenntnisse.html">Notwendige Software und Kenntnisse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/02-kurselemente.html">Die Kurs-Elemente</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_inhalte/03-cds.html">Der Copernicus Climate Data Store (CDS)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kurs 1:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst_kurs1/01-cds-api-installieren-und-herunterladen.html">CDS API Installation und Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_kurs1/02-netcdf-einfuhrung.html">NetCDF Einf√ºhrung</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Kurs 2:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01-satellite-lake-water-level.html">Wasserst√§nde von Seen abgleitet aus Satellitendaten</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-satellite-lake-water-temperature.html">Seewassertemperatur aus Satellitendaten abgeleitet</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Temperaturstatistiken f√ºr Europa</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#festlegen-der-pfade-und-arbeitsverzeichnisse">1. Festlegen der Pfade und Arbeitsverzeichnisse</a></li>
<li class="toctree-l2"><a class="reference internal" href="#herunterladen-und-entpacken-des-datensatzes">2. Herunterladen und Entpacken des Datensatzes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#authentifizierung">2.1 Authentifizierung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#definieren-sie-die-request-und-laden-sie-den-datensatz-herunter">2.2 Definieren Sie die ‚Äûrequest‚Äú und laden Sie den Datensatz herunter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extrahieren-sie-die-zip-dateien-in-ordner">2.3 Extrahieren Sie die ZIP-Dateien in Ordner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#untersuchen-der-metadaten-der-netcdf4-datei">3. Untersuchen der Metadaten der NetCDF4-Datei</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#erstellen-eines-dataframe-mit-verfugbaren-netcdf-dateien">3.1 Erstellen eines DataFrame mit verf√ºgbaren NetCDF-Dateien</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ubersicht-uber-die-struktur-der-heruntergeladenen-daten">3.2 √úbersicht √ºber die Struktur der heruntergeladenen Daten</a></li>
<li class="toctree-l3"><a class="reference internal" href="#einzigartige-variablennamen-und-verfugbare-variablen-ausgeben">3.3 Einzigartige Variablennamen und verf√ºgbare Variablen ausgeben</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exportieren-der-netcdf4-dateien-im-csv-format">4. Exportieren der NetCDF4-Dateien im CSV-Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#definieren-eine-funktion-zum-konvertieren-von-netcdf-daten-in-einen-pandas-dataframe">4.1 Definieren eine Funktion zum Konvertieren von NetCDF-Daten in einen Pandas-DataFrame</a></li>
<li class="toctree-l3"><a class="reference internal" href="#erstellen-ein-zusammengefuhrtes-dataframe-und-exportieren-als-csv">4.2 Erstellen ein zusammengef√ºhrtes DataFrame und exportieren als CSV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nach-gebiet-filtern-dataframe-erstellen-und-als-zusammengefuhrte-csv-datei-exportieren">4.3 Nach Gebiet filtern, DataFrame erstellen und als zusammengef√ºhrte CSV-Datei exportieren</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exportieren-der-netcdf4-datei-nach-geotiff">5. Exportieren der NetCDF4-Datei nach GeoTIFF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#definieren-eine-funktion-zum-exportieren-der-netcdf4-datei-als-geotiff-datei-en">5.1 Definieren eine Funktion zum Exportieren der NetCDF4-Datei als GeoTIFF-Datei(en)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ausgewahlte-netcdf4-datei-en-in-geotiff-datei-en-exportieren">5.2 Ausgew√§hlte NetCDF4-Datei(en) in GeoTIFF-Datei(en) exportieren</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#analyse-und-visualisierung-optionen">6. Analyse und Visualisierung Optionen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vorbereitung-der-daten-fur-die-visualisierung">6.1 Vorbereitung der Daten f√ºr die Visualisierung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#definition-von-funktionen-zur-farbgestaltung-der-diagramme">6.2 Definition von Funktionen zur Farbgestaltung der Diagramme</a></li>
<li class="toctree-l3"><a class="reference internal" href="#definition-einer-funktion-zur-erstellung-von-liniendiagrammen-mit-fehlerbereich">6.3 Definition einer Funktion zur Erstellung von Liniendiagrammen mit Fehlerbereich</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualisierung">6.4 Visualisierung</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Jupyter Notebook Bibliothek:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rst_jupyter_bibliothek/index.html">√úber CoKLIMAx-II Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_jupyter_bibliothek/cds_data/index.html">CDS Datensatz Notebooks </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_jupyter_bibliothek/satellite_data/index.html">Satellitendaten Notebooks </a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_jupyter_bibliothek/visualizations/index.html">Visualization Options Library</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Coklimax</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Temperaturstatistiken f√ºr Europa</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/notebooks/kurs2_einfache_cds/03-sis-temperature-statistics.ipynb.txt" rel="nofollow"> Quelltext anzeigen</a>
<div id='language-switcher' style='text-align: right; margin-top: 10px;'>
    <select onchange="location = this.value;">
        <option value='/./CoKLIMAx-II/en\notebooks\kurs2_einfache_cds\03-sis-temperature-statistics.html'>EN</option>
        <option value='/./CoKLIMAx-II/de\notebooks\kurs2_einfache_cds\03-sis-temperature-statistics.html' selected>DE</option>
    </select>
</div>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="temperaturstatistiken-fur-europa">
<h1>Temperaturstatistiken f√ºr Europa<a class="headerlink" href="#temperaturstatistiken-fur-europa" title="Link to this heading">ÔÉÅ</a></h1>
<p>Dieser Datensatz enth√§lt Temperaturstatistiken f√ºr Europa, die sich auf die t√§gliche 2-Meter-Lufttemperatur (Mittelwert, Minimum und Maximum) f√ºr ganze Jahre sowie f√ºr die Winter- (DJF: Dezember-Januar-Februar) und die Sommersaison (JJA: Juni-Juli-August) konzentrieren. Die Statistiken, die aus den um Verzerrungen bereinigten EURO-CORDEX-Daten abgeleitet wurden, umfassen einen gegl√§tteten 30-Jahres-Durchschnitt von 1971 bis 2100, was zu einer Zeitreihe von 1986 bis 2085 f√ºhrt, einschlie√ülich der Mittelwerte des Modellensembles und der zugeh√∂rigen Standardabweichungen. Diese Temperaturperzentile sind im √∂ffentlichen Gesundheitswesen und in der Epidemiologie von entscheidender Bedeutung f√ºr die Bewertung von Gesundheitsrisiken und -auswirkungen und erm√∂glichen Vergleiche zwischen verschiedenen Regionen unter verschiedenen Klimawandelszenarien.</p>
<p><strong>Schnellnavigation:</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="#herunterladen-und-entpacken-des-datensatzes"><span class="std std-ref">Herunterladen und Entpacken des Datensatzes</span></a></p></li>
<li><p><a class="reference internal" href="#untersuchen-der-metadaten-der-netcdf4-datei"><span class="std std-ref">Untersuchen der Metadaten der netCDF4-Datei</span></a></p></li>
<li><p><a class="reference internal" href="#exportieren-der-netcdf4-dateien-im-csv-format"><span class="std std-ref">Exportieren der NetCDF4-Dateien im csv-Format</span></a></p></li>
<li><p>Exportieren der NetCDF4-Datei nach GeoTIFF</p></li>
<li><p><a class="reference internal" href="#analyse-und-visualisierung-optionen"><span class="std std-ref">Analyse und Visualisierung Optionen</span></a></p></li>
</ul>
<p><strong>Information on Dataset:</strong></p>
<ul class="simple">
<li><p>Quelle: <a class="reference external" href="https://cds.climate.copernicus.eu/datasets/sis-temperature-statistics?tab=overview" rel="noopener noreferrer" target="_blank">Temperature Statistics for Europe</a></p></li>
<li><p>Author: T. Tewes (Stadt Konstanz)</p></li>
<li><p>Notebook Version: 1.1 (Updated: December 17. 2024)</p></li>
</ul>
<section id="festlegen-der-pfade-und-arbeitsverzeichnisse">
<h2>1. Festlegen der Pfade und Arbeitsverzeichnisse<a class="headerlink" href="#festlegen-der-pfade-und-arbeitsverzeichnisse" title="Link to this heading">ÔÉÅ</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="sd">&#39;&#39;&#39; ---- Verzeichnisse hier angeben ---- &#39;&#39;&#39;</span>
<span class="n">download_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\sis-temperature-statistics\download&quot;</span>
<span class="n">working_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\sis-temperature-statistics\working&quot;</span>
<span class="n">geotiff_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\sis-temperature-statistics\geotiff&quot;</span>
<span class="n">csv_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\sis-temperature-statistics\csv&quot;</span>
<span class="n">output_folder</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;.\data\sis-temperature-statistics\output&quot;</span>
<span class="sd">&#39;&#39;&#39; ----- Ende der Angaben ---- &#39;&#39;&#39;</span>

<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">download_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">working_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">geotiff_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">csv_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">output_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="herunterladen-und-entpacken-des-datensatzes">
<h2>2. Herunterladen und Entpacken des Datensatzes<a class="headerlink" href="#herunterladen-und-entpacken-des-datensatzes" title="Link to this heading">ÔÉÅ</a></h2>
<section id="authentifizierung">
<h3>2.1 Authentifizierung<a class="headerlink" href="#authentifizierung" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">cdsapi</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="c1"># API-Key f√ºr die Authentifizierung</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="s2">&quot;fdae60fd-35d4-436f-825c-c63fedab94a4&quot;</span>
    <span class="n">api_url</span> <span class="o">=</span> <span class="s2">&quot;https://cds.climate.copernicus.eu/api&quot;</span>

    <span class="c1"># Erstellung des CDS-API-Clients</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">cdsapi</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">api_url</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">api_key</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">client</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="definieren-sie-die-request-und-laden-sie-den-datensatz-herunter">
<h3>2.2 Definieren Sie die ‚Äûrequest‚Äú und laden Sie den Datensatz herunter<a class="headerlink" href="#definieren-sie-die-request-und-laden-sie-den-datensatz-herunter" title="Link to this heading">ÔÉÅ</a></h3>
<p>Definieren Sie zus√§tzliche Anfragefelder, um sicherzustellen, dass die Anfrage innerhalb der Dateigr√∂√üenbeschr√§nkung bleibt. Bei der Arbeit mit Geodaten oder APIs, die Karten- oder Satellitenbilder zur√ºckgeben, kann die Begrenzung des geografischen Interessengebiets verhindern, dass Anfragen zu gro√ü werden und die Datei- oder Verarbeitungsgrenzen √ºberschreiten. Begrenzungsrahmen (Bounding Boxes) werden verwendet, um das geografische Gebiet f√ºr solche Anfragen festzulegen.</p>
<p>Die untenstehenden Koordinaten wurden mit dem Tool <a href="https://str-ucture.github.io/bbox-extractor/" target="_blank">BBox Extractor</a> ermittelt.</p>
<p><em>BBox Extractor ist ein webbasiertes Tool, das Benutzern hilft, interaktiv Begrenzungsrahmen-Koordinaten im WGS84-Format (Breite/L√§nge) auszuw√§hlen und zu generieren. Dies ist besonders n√ºtzlich f√ºr APIs oder Datens√§tze, die eine Eingabe eines geografischen Gebiets erfordern</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definieren der Begrenzungsrahmen-Koordinaten (WGS84-Format)</span>
<span class="c1"># Das Koordinatenformat lautet: [Norden, Westen, S√ºden, Osten]</span>
<span class="n">bbox_wgs84_deutschland</span> <span class="o">=</span> <span class="p">[</span><span class="mf">56.0</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">47.2</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">]</span>
<span class="n">bbox_wgs84_konstanz</span> <span class="o">=</span> <span class="p">[</span><span class="mf">47.9</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">,</span> <span class="mf">47.6</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Alternativ k√∂nnen Sie ein Shapefile f√ºr eine pr√§zise geografische Filterung verwenden</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">geopandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">gpd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="c1"># Beispiel: Shapefile von Konstanz laden (WGS84-Projektion)</span>
<span class="n">de_shapefile</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;./shapefiles/de_boundary.shp&quot;</span>
<span class="n">de_gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="n">de_shapefile</span><span class="p">)</span>

<span class="c1"># Extrahieren Sie den Begrenzungsrahmen des Shapefiles</span>
<span class="n">de_bounds</span> <span class="o">=</span> <span class="n">de_gdf</span><span class="o">.</span><span class="n">total_bounds</span>

<span class="c1"># Passen Sie den Begrenzungsrahmen an und puffern Sie ihn, um einen etwas gr√∂√üeren</span>
<span class="n">de_bounds_adjusted</span> <span class="o">=</span> <span class="p">[(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">de_bounds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>
                      <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">de_bounds</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>
                      <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">de_bounds</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="mf">0.1</span><span class="p">,</span>
                      <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">de_bounds</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span> <span class="mi">10</span><span class="p">)</span><span class="o">/</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="mf">0.1</span><span class="p">]</span>

<span class="c1"># Ordnen Sie die Koordinaten in das Format: [Nord, West, S√ºd, Ost] um.</span>
<span class="n">bbox_de_bounds_adjusted</span> <span class="o">=</span> <span class="p">[</span><span class="n">de_bounds_adjusted</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">de_bounds_adjusted</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                           <span class="n">de_bounds_adjusted</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">de_bounds_adjusted</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definieren Sie verf√ºgbare Optionen f√ºr Zeitr√§ume und Temperaturvariablen</span>
<span class="n">period_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="s2">&quot;summer&quot;</span><span class="p">,</span> <span class="s2">&quot;winter&quot;</span><span class="p">]</span>
<span class="n">variable_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;average_temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;minimum_temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;maximum_temperature&quot;</span><span class="p">]</span>

<span class="c1"># W√§hlen Sie den Zeitraum und die Variable f√ºr die Verarbeitung aus; √§ndern Sie diese nach Bedarf</span>
<span class="c1"># Standardm√§√üig auf &quot;Jahr&quot; und &quot;Durchschnittstemperatur&quot; eingestellt</span>
<span class="n">selected_period</span> <span class="o">=</span> <span class="n">period_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Standard: &quot;year&quot;</span>
<span class="n">selected_variable</span> <span class="o">=</span> <span class="n">variable_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># Standard: &quot;average_temperature&quot;</span>

<span class="c1"># Ausgew√§hlte Variable und Periode anzeigen</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ausgew√§hlte Variable: </span><span class="si">{</span><span class="n">selected_variable</span><span class="si">}</span><span class="se">\n</span><span class="s2">Ausgew√§hlter Zeitraum: </span><span class="si">{</span><span class="n">selected_period</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Definieren Sie Statistiken basierend auf der ausgew√§hlten Variable</span>
<span class="c1"># F√ºgen Sie f√ºr &quot;average_temperature&quot; zus√§tzliche Statistiken ein; verwenden Sie andernfalls nur &quot;time_average&quot;</span>
<span class="n">statistic</span> <span class="o">=</span> <span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;time_average&#39;</span><span class="p">,</span> <span class="s1">&#39;10th_percentile&#39;</span><span class="p">,</span> <span class="s1">&#39;90th_percentile&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">selected_variable</span> <span class="o">==</span> <span class="s2">&quot;average_temperature&quot;</span>
    <span class="k">else</span> <span class="p">[</span><span class="s1">&#39;time_average&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ausgew√§hlte Variable: average_temperature
Ausgew√§hlter Zeitraum: year
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Definition des Datensatzes und der Request-Parameter</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="s2">&quot;sis-temperature-statistics&quot;</span>
<span class="n">request</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;variable&quot;</span><span class="p">:</span> <span class="n">selected_variable</span><span class="p">,</span>
    <span class="s2">&quot;period&quot;</span><span class="p">:</span> <span class="n">selected_period</span><span class="p">,</span>
    <span class="s2">&quot;statistic&quot;</span><span class="p">:</span> <span class="n">statistic</span><span class="p">,</span>
    <span class="s2">&quot;experiment&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;rcp4_5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rcp8_5&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;ensemble_statistic&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;ensemble_members_average&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ensemble_members_standard_deviation&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;area&quot;</span><span class="p">:</span> <span class="n">bbox_de_bounds_adjusted</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># F√ºhren Sie es aus, um den Datensatz herunterzuladen:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">main_retrieve</span><span class="p">():</span>
    <span class="n">dataset_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">selected_period</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">selected_variable</span><span class="si">}</span><span class="s2">.zip&quot;</span>
    <span class="n">dataset_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">download_folder</span><span class="p">,</span> <span class="n">dataset_filename</span><span class="p">)</span>
    
    <span class="c1"># Den Datensatz nur herunterladen, wenn er noch nicht heruntergeladen wurde</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dataset_filepath</span><span class="p">):</span>
        <span class="c1"># Rufen Sie den CDS-Client nur auf, wenn der Datensatz noch nicht heruntergeladen wurde.</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">main</span><span class="p">()</span>
        <span class="c1"># Den Datensatz mit den definierten Anforderungsparametern herunterladen</span>
        <span class="n">client</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">dataset_filepath</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Datensatz bereits heruntergeladen.&quot;</span><span class="p">)</span>
        
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main_retrieve</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datensatz bereits heruntergeladen.
</pre></div>
</div>
</div>
</div>
</section>
<section id="extrahieren-sie-die-zip-dateien-in-ordner">
<h3>2.3 Extrahieren Sie die ZIP-Dateien in Ordner<a class="headerlink" href="#extrahieren-sie-die-zip-dateien-in-ordner" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>

<span class="c1"># Definieren Sie den Ordner, in dem die extrahierten Dateien gespeichert werden</span>
<span class="n">extract_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">working_folder</span><span class="p">,</span> <span class="n">selected_period</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Entpacken der ZIP-Datei</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">variable_list</span><span class="p">:</span>
            <span class="c1"># Konstruieren Sie den Dateinamen f√ºr die ZIP-Datei basierend auf dem ausgew√§hlten Zeitraum und der Variable</span>
            <span class="n">dataset_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">selected_period</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">variable</span><span class="si">}</span><span class="s2">.zip&quot;</span>
            <span class="n">dataset_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">download_folder</span><span class="p">,</span> <span class="n">dataset_filename</span><span class="p">)</span>
            
            <span class="c1"># Versuchen Sie, die ZIP-Datei zu √∂ffnen und zu extrahieren</span>
            <span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="n">dataset_filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">zip_ref</span><span class="p">:</span>
                <span class="n">zip_ref</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dateien erfolgreich extrahiert nach: </span><span class="si">{</span><span class="n">extract_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ordner ist nicht leer. Entpacken √ºberspringen.&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fehler: Die Datei </span><span class="si">{</span><span class="n">dataset_filepath</span><span class="si">}</span><span class="s2"> wurde nicht gefunden.&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">BadZipFile</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fehler: Die Datei </span><span class="si">{</span><span class="n">dataset_filepath</span><span class="si">}</span><span class="s2"> ist keine g√ºltige ZIP-Datei.&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ein unerwarteter Fehler ist aufgetreten: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ordner ist nicht leer. Entpacken √ºberspringen.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="untersuchen-der-metadaten-der-netcdf4-datei">
<h2>3. Untersuchen der Metadaten der NetCDF4-Datei<a class="headerlink" href="#untersuchen-der-metadaten-der-netcdf4-datei" title="Link to this heading">ÔÉÅ</a></h2>
<p>‚ö†Ô∏è <span style="background-color: red; color: white; padding: 2px 4px;">Wichtig</span> Nachdem Sie die Datens√§tze heruntergeladen haben, <strong>aktualisieren Sie</strong> <code class="docutils literal notranslate"><span class="pre">selected_period</span></code> im Codeblock unten, um mit der Analyse, Datenextraktion und Visualisierung fortzufahren. Dieser Schritt ist entscheidend, um mit der Analyse, Datenextraktion und Visualisierung fortzufahren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Legen Sie den ausgew√§hlten Zeitraum f√ºr die Analyse fest (0: Jahr, 1: Sommer, 2: Winter)</span>
<span class="n">selected_period</span> <span class="o">=</span> <span class="n">period_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># √Ñndern Sie diesen Index, um den Zeitraum zu √§ndern</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Ausgew√§hlter Zeitraum: </span><span class="si">{</span><span class="n">selected_period</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Definieren Sie den Pfad des extrahierten Ordners basierend auf dem ausgew√§hlten Zeitraum</span>
<span class="n">extract_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">working_folder</span><span class="p">,</span> <span class="n">selected_period</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ausgew√§hlter Zeitraum: year
</pre></div>
</div>
</div>
</div>
<section id="erstellen-eines-dataframe-mit-verfugbaren-netcdf-dateien">
<h3>3.1 Erstellen eines DataFrame mit verf√ºgbaren NetCDF-Dateien<a class="headerlink" href="#erstellen-eines-dataframe-mit-verfugbaren-netcdf-dateien" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">netCDF4</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nc</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="k">def</span><span class="w"> </span><span class="nf">meta</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="c1"># √úberpr√ºfen, ob der Dateiname dem erwarteten Muster entspricht</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
        <span class="sa">r</span><span class="s2">&quot;(?P&lt;ds_statistic&gt;mean|p10|p90)_(?P&lt;ds_variable&gt;Tmean|Tmax|Tmin)_(?P&lt;ds_period&gt;Yearly|Winter|Summer)_(?P&lt;rcp&gt;rcp\d</span><span class="si">{2}</span><span class="s2">)_(?P&lt;rcp_statistic&gt;mean|stdev)_v(?P&lt;version&gt;\d+\.\d+)\.&quot;</span><span class="p">,</span>
        <span class="n">filename</span>
    <span class="p">)</span>
    
    <span class="c1"># Fehler ausgeben, wenn der Dateiname nicht dem erwarteten Schema entspricht</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">match</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Der angegebene Dateiname entspricht nicht dem erwarteten Namensschema&quot;</span><span class="p">)</span>
    
    <span class="c1"># Funktion zum Extrahieren des Variablennamens aus der NetCDF-Datei</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_nc_variable</span><span class="p">():</span>
        <span class="k">with</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">nc_dataset</span><span class="p">:</span>
            <span class="n">variable_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nc_dataset</span><span class="o">.</span><span class="n">variables</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

            <span class="n">primary_variable_index</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Diesen Index bei Bedarf anpassen</span>
            <span class="k">if</span> <span class="n">primary_variable_index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">variable_names</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;Der Index der Hauptvariable liegt au√üerhalb des g√ºltigen Bereichs f√ºr die NetCDF-Variablen.&quot;</span><span class="p">)</span>
            
            <span class="n">primary_variable</span> <span class="o">=</span> <span class="n">variable_names</span><span class="p">[</span><span class="n">primary_variable_index</span><span class="p">]</span>
            <span class="n">primary_variable_shape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">nc_dataset</span><span class="p">[</span><span class="n">primary_variable</span><span class="p">])</span>

            <span class="k">return</span> <span class="n">primary_variable</span><span class="p">,</span> <span class="n">primary_variable_shape</span>
    
    <span class="c1"># Metadaten als Dictionary zur√ºckgeben</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">,</span> <span class="n">filename</span><span class="p">),</span>
        <span class="n">ds_period</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;ds_period&#39;</span><span class="p">),</span>
        <span class="n">ds_variable</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">),</span>
        <span class="n">ds_statistic</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;ds_statistic&#39;</span><span class="p">),</span>
        <span class="n">variable_name</span><span class="o">=</span><span class="n">get_nc_variable</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">variable_shape</span><span class="o">=</span><span class="n">get_nc_variable</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">rcp</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;rcp&#39;</span><span class="p">),</span>
        <span class="n">rcp_statistic</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s1">&#39;rcp_statistic&#39;</span><span class="p">),</span>
    <span class="p">)</span>

<span class="c1"># Metadaten f√ºr alle NetCDF-Dateien im Ordner extrahieren</span>
<span class="c1"># Das Dictionary &#39;nc_files&#39; enth√§lt alle relevanten Metadaten der verf√ºgbaren NetCDF4-Dateien</span>
<span class="c1"># Dieses Dictionary wird sp√§ter verwendet, um die Dateien in GeoTiff zu konvertieren</span>
<span class="n">nc_files</span> <span class="o">=</span> <span class="p">[</span><span class="n">meta</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">extract_folder</span><span class="p">)</span> <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.nc&#39;</span><span class="p">)]</span>
<span class="n">nc_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">nc_files</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;ds_statistic&#39;</span><span class="p">]))</span>

<span class="n">df_nc_files</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">nc_files</span><span class="p">)</span>

<span class="c1"># Pandas-Anzeigeoptionen anpassen</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">30</span>

<span class="c1"># DataFrame anzeigen, ohne die Spalte &#39;path&#39; darzustellen</span>
<span class="n">df_nc_files</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">df_nc_files</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s1">&#39;path&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>filename</th>
      <th>ds_period</th>
      <th>ds_variable</th>
      <th>ds_statistic</th>
      <th>variable_name</th>
      <th>variable_shape</th>
      <th>rcp</th>
      <th>rcp_statistic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>mean_Tmax_Yearly_rcp45_mea...</td>
      <td>Yearly</td>
      <td>Tmax</td>
      <td>mean</td>
      <td>mean_Tmax_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>1</th>
      <td>mean_Tmax_Yearly_rcp45_std...</td>
      <td>Yearly</td>
      <td>Tmax</td>
      <td>mean</td>
      <td>mean_Tmax_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>2</th>
      <td>mean_Tmax_Yearly_rcp85_mea...</td>
      <td>Yearly</td>
      <td>Tmax</td>
      <td>mean</td>
      <td>mean_Tmax_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>3</th>
      <td>mean_Tmax_Yearly_rcp85_std...</td>
      <td>Yearly</td>
      <td>Tmax</td>
      <td>mean</td>
      <td>mean_Tmax_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>4</th>
      <td>mean_Tmean_Yearly_rcp45_me...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>mean</td>
      <td>mean_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>5</th>
      <td>mean_Tmean_Yearly_rcp45_st...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>mean</td>
      <td>mean_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>6</th>
      <td>mean_Tmean_Yearly_rcp85_me...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>mean</td>
      <td>mean_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>7</th>
      <td>mean_Tmean_Yearly_rcp85_st...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>mean</td>
      <td>mean_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>8</th>
      <td>p10_Tmean_Yearly_rcp45_mea...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p10</td>
      <td>p10_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>9</th>
      <td>p10_Tmean_Yearly_rcp45_std...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p10</td>
      <td>p10_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>10</th>
      <td>p10_Tmean_Yearly_rcp85_mea...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p10</td>
      <td>p10_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>11</th>
      <td>p10_Tmean_Yearly_rcp85_std...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p10</td>
      <td>p10_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>12</th>
      <td>p90_Tmean_Yearly_rcp45_mea...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p90</td>
      <td>p90_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>13</th>
      <td>p90_Tmean_Yearly_rcp45_std...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p90</td>
      <td>p90_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>14</th>
      <td>p90_Tmean_Yearly_rcp85_mea...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p90</td>
      <td>p90_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>15</th>
      <td>p90_Tmean_Yearly_rcp85_std...</td>
      <td>Yearly</td>
      <td>Tmean</td>
      <td>p90</td>
      <td>p90_Tmean_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>16</th>
      <td>mean_Tmin_Yearly_rcp45_mea...</td>
      <td>Yearly</td>
      <td>Tmin</td>
      <td>mean</td>
      <td>mean_Tmin_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>17</th>
      <td>mean_Tmin_Yearly_rcp45_std...</td>
      <td>Yearly</td>
      <td>Tmin</td>
      <td>mean</td>
      <td>mean_Tmin_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp45</td>
      <td>stdev</td>
    </tr>
    <tr>
      <th>18</th>
      <td>mean_Tmin_Yearly_rcp85_mea...</td>
      <td>Yearly</td>
      <td>Tmin</td>
      <td>mean</td>
      <td>mean_Tmin_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>mean</td>
    </tr>
    <tr>
      <th>19</th>
      <td>mean_Tmin_Yearly_rcp85_std...</td>
      <td>Yearly</td>
      <td>Tmin</td>
      <td>mean</td>
      <td>mean_Tmin_Yearly</td>
      <td>(100, 82, 95)</td>
      <td>rcp85</td>
      <td>stdev</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="ubersicht-uber-die-struktur-der-heruntergeladenen-daten">
<h3>3.2 √úbersicht √ºber die Struktur der heruntergeladenen Daten<a class="headerlink" href="#ubersicht-uber-die-struktur-der-heruntergeladenen-daten" title="Link to this heading">ÔÉÅ</a></h3>
<p>Das folgende Diagramm veranschaulicht die Struktur der <strong>SIS-Temperaturstatistik-Daten</strong>, die in vier hierarchische Ebenen unterteilt sind:</p>
<ol class="arabic simple">
<li><p><strong>Zeitraum (Period)</strong>: Gibt die Zeiteinheit der Daten an, die eine der folgenden sein kann:</p>
<ul class="simple">
<li><p><strong>Jahr</strong></p></li>
<li><p><strong>Sommer</strong></p></li>
<li><p><strong>Winter</strong></p></li>
</ul>
</li>
<li><p><strong>Variable</strong>: Die Daten enthalten drei Temperaturvariablen:</p>
<ul class="simple">
<li><p><strong>Durchschnittstemperatur</strong></p></li>
<li><p><strong>Mindesttemperatur</strong></p></li>
<li><p><strong>Maximaltemperatur</strong></p></li>
</ul>
</li>
<li><p><strong>Statistik (Statistic)</strong>: F√ºr jede Variable werden folgende Statistiken berechnet:</p>
<ul class="simple">
<li><p><strong>Zeitlicher Durchschnitt</strong></p></li>
<li><p><strong>10. Perzentil</strong> (nur f√ºr Durchschnittstemperatur)</p></li>
<li><p><strong>90. Perzentil</strong> (nur f√ºr Durchschnittstemperatur)</p></li>
</ul>
</li>
<li><p><strong>Experiment</strong>: Die Daten werden unter zwei Klimaszenarien bereitgestellt:</p>
<ul class="simple">
<li><p><strong>rcp45</strong></p></li>
<li><p><strong>rcp85</strong></p></li>
<li><p>F√ºr jedes Szenario liegen die Daten in zwei Formen vor:</p>
<ul>
<li><p><strong>rcp45_mean</strong>, <strong>rcp45_std</strong></p></li>
<li><p><strong>rcp85_mean</strong>, <strong>rcp85_std</strong></p></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>Die Datenstruktur folgt einer hierarchischen Abfolge von <strong>Zeitraum (Period)</strong> zu <strong>Variable</strong>, dann zu <strong>Statistik (Statistic)</strong> und schlie√ülich zu <strong>Experiment</strong>. Diese Hierarchie zeigt, wie die Temperaturdaten organisiert, berechnet und analysiert werden.</p>
<img src="./images/sis-temperature-statistics-data-structure_v2.jpg" width="550" style="display: block; margin: 0 auto; border: 1px solid #aeaeae">
</section>
<section id="einzigartige-variablennamen-und-verfugbare-variablen-ausgeben">
<h3>3.3 Einzigartige Variablennamen und verf√ºgbare Variablen ausgeben<a class="headerlink" href="#einzigartige-variablennamen-und-verfugbare-variablen-ausgeben" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Variable definieren, um bereits verarbeitete Variablennamen zu speichern und Duplikate zu vermeiden  </span>
<span class="n">seen_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  

<span class="c1"># Alle Variablen in jeder NetCDF-Datei auflisten  </span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nc_file</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nc_files</span><span class="p">):</span>  
    <span class="n">variable_name</span> <span class="o">=</span> <span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;variable_name&#39;</span><span class="p">]</span>  
    
    <span class="c1"># √úberspringen, wenn die Variable bereits verarbeitet wurde  </span>
    <span class="k">if</span> <span class="n">variable_name</span> <span class="ow">in</span> <span class="n">seen_variables</span><span class="p">:</span>  
        <span class="k">continue</span>  

    <span class="c1"># NetCDF-Datei im Lesemodus √∂ffnen  </span>
    <span class="k">with</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">nc_dataset</span><span class="p">:</span>  
        <span class="c1"># Alle Variablen im aktuellen Datensatz auflisten  </span>
        <span class="n">variables_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nc_dataset</span><span class="o">.</span><span class="n">variables</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>  
        
        <span class="c1"># Details der Datei und ihrer Variablen ausgeben  </span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">:</span><span class="s2">&lt;2</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">variable_name</span><span class="si">:</span><span class="s2">&lt;18</span><span class="si">}</span><span class="s2">: Verf√ºgbare Variablen: </span><span class="si">{</span><span class="n">variables_list</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
    
    <span class="c1"># Diese Variable als verarbeitet markieren  </span>
    <span class="n">seen_variables</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">variable_name</span><span class="p">)</span>  

<span class="c1"># Variable definieren, um bereits verarbeitete Variablennamen zu speichern und Duplikate zu vermeiden  </span>
<span class="n">seen_variables</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1  mean_Tmax_Yearly  : Verf√ºgbare Variablen: [&#39;mean_Tmax_Yearly&#39;, &#39;height&#39;, &#39;lat&#39;, &#39;lon&#39;, &#39;time&#39;]
5  mean_Tmean_Yearly : Verf√ºgbare Variablen: [&#39;mean_Tmean_Yearly&#39;, &#39;height&#39;, &#39;lat&#39;, &#39;lon&#39;, &#39;time&#39;]
9  p10_Tmean_Yearly  : Verf√ºgbare Variablen: [&#39;p10_Tmean_Yearly&#39;, &#39;quantile&#39;, &#39;lat&#39;, &#39;lon&#39;, &#39;time&#39;]
13 p90_Tmean_Yearly  : Verf√ºgbare Variablen: [&#39;p90_Tmean_Yearly&#39;, &#39;quantile&#39;, &#39;lat&#39;, &#39;lon&#39;, &#39;time&#39;]
17 mean_Tmin_Yearly  : Verf√ºgbare Variablen: [&#39;mean_Tmin_Yearly&#39;, &#39;height&#39;, &#39;lat&#39;, &#39;lon&#39;, &#39;time&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Alle Variableninformationen in jeder NetCDF-Datei auflisten  </span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">nc_file</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">nc_files</span><span class="p">):</span>  
    <span class="n">variable_name</span> <span class="o">=</span> <span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;variable_name&#39;</span><span class="p">]</span>  
    
    <span class="c1"># √úberspringen, wenn die Variable bereits verarbeitet wurde  </span>
    <span class="k">if</span> <span class="n">variable_name</span> <span class="ow">in</span> <span class="n">seen_variables</span><span class="p">:</span>  
        <span class="k">continue</span>  
    
    <span class="c1"># NetCDF-Datei im Lesemodus √∂ffnen  </span>
    <span class="k">with</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">nc_dataset</span><span class="p">:</span>  
        <span class="c1"># Prim√§rvariable-Daten abrufen  </span>
        <span class="n">variable_data</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="p">[</span><span class="n">variable_name</span><span class="p">]</span>  
        
        <span class="c1"># Zusammenfassung der Prim√§rvariable erstellen  </span>
        <span class="n">summary</span> <span class="o">=</span> <span class="p">{</span>  
            <span class="s2">&quot;Variablenname&quot;</span><span class="p">:</span> <span class="n">variable_name</span><span class="p">,</span>  
            <span class="s2">&quot;Datentyp&quot;</span><span class="p">:</span> <span class="n">variable_data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>  
            <span class="s2">&quot;Form&quot;</span><span class="p">:</span> <span class="n">variable_data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>  
            <span class="s2">&quot;Variableninfo&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_data</span><span class="o">.</span><span class="n">dimensions</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>  
            <span class="s2">&quot;Einheiten&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">variable_data</span><span class="p">,</span> <span class="s2">&quot;units&quot;</span><span class="p">,</span> <span class="s2">&quot;N/A&quot;</span><span class="p">),</span>  
            <span class="s2">&quot;Langer Name&quot;</span><span class="p">:</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">variable_data</span><span class="p">,</span> <span class="s2">&quot;long_name&quot;</span><span class="p">,</span> <span class="s2">&quot;N/A&quot;</span><span class="p">),</span>  
        <span class="p">}</span>  
        
        <span class="c1"># Datensatz-Zusammenfassung als DataFrame zur besseren Visualisierung anzeigen  </span>
        <span class="n">nc_summary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">summary</span><span class="o">.</span><span class="n">items</span><span class="p">()),</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Beschreibung&#39;</span><span class="p">,</span> <span class="s1">&#39;Bemerkungen&#39;</span><span class="p">])</span>  
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">. Zusammenfassung der Variable &#39;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">&#39;:&quot;</span><span class="p">)</span>  
        <span class="n">display</span><span class="p">(</span><span class="n">nc_summary</span><span class="p">)</span>  
    
    <span class="c1"># Variablenname zur Liste der bereits verarbeiteten Variablen hinzuf√ºgen  </span>
    <span class="n">seen_variables</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">variable_name</span><span class="p">)</span>  
    
    <span class="c1"># Ausgabe begrenzen  </span>
    <span class="n">output_limit</span> <span class="o">=</span> <span class="mi">2</span>  
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">seen_variables</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">output_limit</span><span class="p">:</span>  
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;.... (Ausgabe auf die ersten </span><span class="si">{</span><span class="n">output_limit</span><span class="si">}</span><span class="s2"> Variablen gek√ºrzt)&quot;</span><span class="p">)</span>  
        <span class="k">break</span>  
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1. Zusammenfassung der Variable &#39;mean_Tmax_Yearly&#39;:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Beschreibung</th>
      <th>Bemerkungen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Variablenname</td>
      <td>mean_Tmax_Yearly</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Datentyp</td>
      <td>float32</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Form</td>
      <td>(100, 82, 95)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Variableninfo</td>
      <td>('time', 'lat', 'lon')</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Einheiten</td>
      <td>degrees C</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Langer Name</td>
      <td>Ensemble members average o...</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5. Zusammenfassung der Variable &#39;mean_Tmean_Yearly&#39;:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Beschreibung</th>
      <th>Bemerkungen</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Variablenname</td>
      <td>mean_Tmean_Yearly</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Datentyp</td>
      <td>float32</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Form</td>
      <td>(100, 82, 95)</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Variableninfo</td>
      <td>('time', 'lat', 'lon')</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Einheiten</td>
      <td>degrees C</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Langer Name</td>
      <td>Ensemble members average o...</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>.... (Ausgabe auf die ersten 2 Variablen gek√ºrzt)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="exportieren-der-netcdf4-dateien-im-csv-format">
<h2>4. Exportieren der NetCDF4-Dateien im CSV-Format<a class="headerlink" href="#exportieren-der-netcdf4-dateien-im-csv-format" title="Link to this heading">ÔÉÅ</a></h2>
<section id="definieren-eine-funktion-zum-konvertieren-von-netcdf-daten-in-einen-pandas-dataframe">
<h3>4.1 Definieren eine Funktion zum Konvertieren von NetCDF-Daten in einen Pandas-DataFrame<a class="headerlink" href="#definieren-eine-funktion-zum-konvertieren-von-netcdf-daten-in-einen-pandas-dataframe" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>

<span class="c1"># Funktion zur Konvertierung von NetCDF-Daten in ein Pandas DataFrame</span>
<span class="k">def</span><span class="w"> </span><span class="nf">netcdf_to_dataframe</span><span class="p">(</span><span class="n">nc_file</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="k">with</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">])</span> <span class="k">as</span> <span class="n">nc_dataset</span><span class="p">:</span>
        <span class="c1"># Zugriff auf die Variablendaten aus dem Datensatz</span>
        <span class="n">variable_data</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="p">[</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;variable_name&#39;</span><span class="p">]]</span>
        
        <span class="c1"># Sicherstellen, dass die Namen f√ºr Breiten- und L√§ngengrad korrekt sind</span>
        <span class="n">latitude_name</span> <span class="o">=</span> <span class="s1">&#39;latitude&#39;</span> <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">in</span> <span class="n">nc_dataset</span><span class="o">.</span><span class="n">coords</span> <span class="k">else</span> <span class="s1">&#39;lat&#39;</span>
        <span class="n">longitude_name</span> <span class="o">=</span> <span class="s1">&#39;longitude&#39;</span> <span class="k">if</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">in</span> <span class="n">nc_dataset</span><span class="o">.</span><span class="n">coords</span> <span class="k">else</span> <span class="s1">&#39;lon&#39;</span>
        
        <span class="c1"># Falls eine Begrenzungsbox angegeben ist, die Daten filtern</span>
        <span class="k">if</span> <span class="n">bounding_box</span><span class="p">:</span>
            <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">variable_data</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
                <span class="p">(</span><span class="n">nc_dataset</span><span class="p">[</span><span class="n">latitude_name</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">bounding_box</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">nc_dataset</span><span class="p">[</span><span class="n">latitude_name</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">bounding_box</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&amp;</span>
                <span class="p">(</span><span class="n">nc_dataset</span><span class="p">[</span><span class="n">longitude_name</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">bounding_box</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">nc_dataset</span><span class="p">[</span><span class="n">longitude_name</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">bounding_box</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
                <span class="n">drop</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">filtered_data</span> <span class="o">=</span> <span class="n">variable_data</span>

        <span class="c1"># Umwandlung des xarray-Datensatzes in ein Pandas DataFrame</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">filtered_data</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">latitude_name</span><span class="p">,</span> <span class="n">longitude_name</span><span class="p">])</span>

        <span class="c1"># Spaltennamen f√ºr die Werte umbenennen (optional)</span>
        <span class="n">variable_column_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_statistic&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;rcp&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;rcp_statistic&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;variable_name&#39;</span><span class="p">]:</span> <span class="n">variable_column_name</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># Entfernen nicht ben√∂tigter Spalten (variiert je nach Datensatz)</span>
        <span class="k">if</span> <span class="s1">&#39;height&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="s1">&#39;quantile&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;quantile&#39;</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="erstellen-ein-zusammengefuhrtes-dataframe-und-exportieren-als-csv">
<h3>4.2 Erstellen ein zusammengef√ºhrtes DataFrame und exportieren als CSV<a class="headerlink" href="#erstellen-ein-zusammengefuhrtes-dataframe-und-exportieren-als-csv" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">textwrap</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>

<span class="c1"># Definieren den CSV-Dateinamen und den Dateipfad f√ºr die Ausgabe</span>
<span class="n">csv_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.csv.zip&quot;</span>
<span class="n">csv_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">csv_folder</span><span class="p">,</span> <span class="n">csv_filename</span><span class="p">)</span>

<span class="c1"># Exportieren das DataFrame als CSV, falls es noch nicht existiert</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">):</span>
    <span class="n">dataframes</span> <span class="o">=</span> <span class="p">[</span><span class="n">netcdf_to_dataframe</span><span class="p">(</span><span class="n">nc_file</span><span class="p">)</span> <span class="k">for</span> <span class="n">nc_file</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">nc_files</span><span class="p">)]</span>
    <span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dataframes</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">df_merged</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datei existiert bereits unter </span><span class="si">{</span><span class="n">csv_filepath</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">Export wird √ºbersprungen.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Lesen bestehende CSV-Datei ein...&quot;</span><span class="p">)</span>
    <span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">wrap_column_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="n">wrapped_columns</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">width</span><span class="p">))</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">wrapped_columns</span><span class="p">)</span>

<span class="c1"># √Ñndere die Pandas-Anzeigeoptionen</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">float_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span>

<span class="c1"># Zeige das DataFrame an</span>
<span class="n">df_wrapped</span> <span class="o">=</span> <span class="n">wrap_column_names</span><span class="p">(</span><span class="n">df_merged</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">df_wrapped</span> <span class="o">=</span> <span class="n">df_wrapped</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">])</span>
<span class="n">df_wrapped</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datei existiert bereits unter .\data\sis-temperature-statistics\csv\sis-temperature-statistics-Yearly.csv.zip.
Export wird √ºbersprungen.
Lesen bestehende CSV-Datei ein...
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>Yearly_Tmax _mean_rcp45 _mean</th>
      <th>Yearly_Tmax _mean_rcp45 _stdev</th>
      <th>Yearly_Tmax _mean_rcp85 _mean</th>
      <th>Yearly_Tmax _mean_rcp85 _stdev</th>
      <th>Yearly_Tmea n_mean_rcp4 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp4 5_stdev</th>
      <th>Yearly_Tmea n_mean_rcp8 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp8 5_stdev</th>
      <th>Yearly_Tmea n_p10_rcp45 _mean</th>
      <th>Yearly_Tmea n_p10_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p10_rcp85 _mean</th>
      <th>Yearly_Tmea n_p10_rcp85 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp45 _mean</th>
      <th>Yearly_Tmea n_p90_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp85 _mean</th>
      <th>Yearly_Tmea n_p90_rcp85 _stdev</th>
      <th>Yearly_Tmin _mean_rcp45 _mean</th>
      <th>Yearly_Tmin _mean_rcp45 _stdev</th>
      <th>Yearly_Tmin _mean_rcp85 _mean</th>
      <th>Yearly_Tmin _mean_rcp85 _stdev</th>
    </tr>
    <tr>
      <th>time</th>
      <th>lat</th>
      <th>lon</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1986-01-01</th>
      <th rowspan="5" valign="top">47.10</th>
      <th>5.70</th>
      <td>15.12</td>
      <td>0.15</td>
      <td>15.12</td>
      <td>0.15</td>
      <td>10.77</td>
      <td>0.24</td>
      <td>10.77</td>
      <td>0.22</td>
      <td>1.01</td>
      <td>0.26</td>
      <td>1.01</td>
      <td>0.24</td>
      <td>20.24</td>
      <td>0.34</td>
      <td>20.24</td>
      <td>0.32</td>
      <td>6.60</td>
      <td>0.39</td>
      <td>6.60</td>
      <td>0.37</td>
    </tr>
    <tr>
      <th>5.80</th>
      <td>14.91</td>
      <td>0.11</td>
      <td>14.91</td>
      <td>0.10</td>
      <td>10.57</td>
      <td>0.23</td>
      <td>10.57</td>
      <td>0.22</td>
      <td>0.82</td>
      <td>0.25</td>
      <td>0.82</td>
      <td>0.24</td>
      <td>20.07</td>
      <td>0.33</td>
      <td>20.07</td>
      <td>0.32</td>
      <td>6.42</td>
      <td>0.41</td>
      <td>6.42</td>
      <td>0.40</td>
    </tr>
    <tr>
      <th>5.90</th>
      <td>14.44</td>
      <td>0.14</td>
      <td>14.44</td>
      <td>0.13</td>
      <td>10.20</td>
      <td>0.16</td>
      <td>10.20</td>
      <td>0.15</td>
      <td>0.55</td>
      <td>0.21</td>
      <td>0.55</td>
      <td>0.20</td>
      <td>19.66</td>
      <td>0.26</td>
      <td>19.66</td>
      <td>0.25</td>
      <td>6.14</td>
      <td>0.31</td>
      <td>6.14</td>
      <td>0.29</td>
    </tr>
    <tr>
      <th>6.00</th>
      <td>13.97</td>
      <td>0.21</td>
      <td>13.97</td>
      <td>0.20</td>
      <td>9.74</td>
      <td>0.22</td>
      <td>9.74</td>
      <td>0.21</td>
      <td>0.19</td>
      <td>0.27</td>
      <td>0.19</td>
      <td>0.26</td>
      <td>19.15</td>
      <td>0.25</td>
      <td>19.15</td>
      <td>0.24</td>
      <td>5.69</td>
      <td>0.33</td>
      <td>5.69</td>
      <td>0.31</td>
    </tr>
    <tr>
      <th>6.10</th>
      <td>13.42</td>
      <td>0.22</td>
      <td>13.42</td>
      <td>0.21</td>
      <td>9.23</td>
      <td>0.21</td>
      <td>9.23</td>
      <td>0.20</td>
      <td>-0.30</td>
      <td>0.23</td>
      <td>-0.30</td>
      <td>0.23</td>
      <td>18.67</td>
      <td>0.27</td>
      <td>18.67</td>
      <td>0.25</td>
      <td>5.20</td>
      <td>0.38</td>
      <td>5.20</td>
      <td>0.37</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">2085-01-01</th>
      <th rowspan="5" valign="top">55.20</th>
      <th>14.70</th>
      <td>13.95</td>
      <td>0.47</td>
      <td>15.22</td>
      <td>0.37</td>
      <td>9.91</td>
      <td>0.55</td>
      <td>11.21</td>
      <td>0.44</td>
      <td>0.22</td>
      <td>0.90</td>
      <td>1.68</td>
      <td>0.81</td>
      <td>19.61</td>
      <td>0.53</td>
      <td>20.84</td>
      <td>0.42</td>
      <td>6.01</td>
      <td>0.88</td>
      <td>7.35</td>
      <td>0.79</td>
    </tr>
    <tr>
      <th>14.80</th>
      <td>14.12</td>
      <td>0.47</td>
      <td>15.39</td>
      <td>0.35</td>
      <td>9.74</td>
      <td>0.54</td>
      <td>11.06</td>
      <td>0.44</td>
      <td>-0.22</td>
      <td>0.96</td>
      <td>1.26</td>
      <td>0.88</td>
      <td>19.66</td>
      <td>0.52</td>
      <td>20.89</td>
      <td>0.42</td>
      <td>5.53</td>
      <td>0.93</td>
      <td>6.90</td>
      <td>0.86</td>
    </tr>
    <tr>
      <th>14.90</th>
      <td>14.12</td>
      <td>0.49</td>
      <td>15.39</td>
      <td>0.37</td>
      <td>9.60</td>
      <td>0.50</td>
      <td>10.93</td>
      <td>0.40</td>
      <td>-0.46</td>
      <td>0.86</td>
      <td>1.03</td>
      <td>0.78</td>
      <td>19.61</td>
      <td>0.52</td>
      <td>20.86</td>
      <td>0.45</td>
      <td>5.25</td>
      <td>0.80</td>
      <td>6.65</td>
      <td>0.73</td>
    </tr>
    <tr>
      <th>15.00</th>
      <td>14.06</td>
      <td>0.46</td>
      <td>15.33</td>
      <td>0.33</td>
      <td>9.67</td>
      <td>0.49</td>
      <td>10.99</td>
      <td>0.39</td>
      <td>-0.30</td>
      <td>0.77</td>
      <td>1.19</td>
      <td>0.69</td>
      <td>19.65</td>
      <td>0.54</td>
      <td>20.90</td>
      <td>0.46</td>
      <td>5.44</td>
      <td>0.69</td>
      <td>6.83</td>
      <td>0.61</td>
    </tr>
    <tr>
      <th>15.10</th>
      <td>14.13</td>
      <td>0.52</td>
      <td>15.39</td>
      <td>0.42</td>
      <td>9.97</td>
      <td>0.46</td>
      <td>11.27</td>
      <td>0.34</td>
      <td>0.20</td>
      <td>0.69</td>
      <td>1.67</td>
      <td>0.57</td>
      <td>19.78</td>
      <td>0.53</td>
      <td>21.03</td>
      <td>0.45</td>
      <td>5.97</td>
      <td>0.67</td>
      <td>7.32</td>
      <td>0.58</td>
    </tr>
  </tbody>
</table>
<p>729100 rows √ó 20 columns</p>
</div></div></div>
</div>
</section>
<section id="nach-gebiet-filtern-dataframe-erstellen-und-als-zusammengefuhrte-csv-datei-exportieren">
<h3>4.3 Nach Gebiet filtern, DataFrame erstellen und als zusammengef√ºhrte CSV-Datei exportieren<a class="headerlink" href="#nach-gebiet-filtern-dataframe-erstellen-und-als-zusammengefuhrte-csv-datei-exportieren" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Zus√§tzliche Anforderungsfelder definieren, um sicherzustellen, dass die Anfrage innerhalb der Dateigr√∂√üenbegrenzung bleibt.</span>
<span class="c1"># Diese Koordinaten wurden mit dem BBox Extractor Tool erhalten:</span>
<span class="c1"># https://str-ucture.github.io/bbox-extractor/</span>

<span class="c1"># Begrenzungsbox f√ºr die Region Konstanz (WGS84-Projektion):</span>
<span class="n">bbox_wgs84_konstanz</span> <span class="o">=</span> <span class="p">[</span><span class="mf">47.9</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">,</span> <span class="mf">47.6</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">]</span>  <span class="c1"># Format: [Norden, Westen, S√ºden, Osten]</span>
<span class="n">bbox_wgs84_konstanz_standard</span> <span class="o">=</span> <span class="p">[</span><span class="mf">9.0</span><span class="p">,</span> <span class="mf">47.6</span><span class="p">,</span> <span class="mf">9.3</span><span class="p">,</span> <span class="mf">47.8</span><span class="p">]</span>  <span class="c1"># Standardformat: [Westen, S√ºden, Osten, Norden]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># CSV-Dateiname und Pfad f√ºr die Ausgabe definieren</span>
<span class="n">csv_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dataset</span><span class="si">}</span><span class="s2">-subset-</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">.csv.zip&quot;</span>
<span class="n">csv_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">csv_folder</span><span class="p">,</span> <span class="n">csv_filename</span><span class="p">)</span>

<span class="c1"># Exportiere das DataFrame als CSV, falls es noch nicht existiert</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">):</span>
    <span class="n">dataframes</span> <span class="o">=</span> <span class="p">[</span><span class="n">netcdf_to_dataframe</span><span class="p">(</span><span class="n">nc_file</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="n">bbox_wgs84_konstanz_standard</span><span class="p">)</span> <span class="k">for</span> <span class="n">nc_file</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">nc_files</span><span class="p">)]</span>
    <span class="n">df_merged_subset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">dataframes</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">df_merged_subset</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datei existiert bereits unter </span><span class="si">{</span><span class="n">csv_filepath</span><span class="si">}</span><span class="s2">.</span><span class="se">\n</span><span class="s2">√úberspringen den Export.&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Lesen bestehende CSV-Datei ein...&quot;</span><span class="p">)</span>
    <span class="n">df_merged_subset</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">csv_filepath</span><span class="p">)</span>

<span class="c1"># Funktion zum Umbruch der Spaltennamen f√ºr bessere Lesbarkeit</span>
<span class="k">def</span><span class="w"> </span><span class="nf">wrap_column_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="n">wrapped_columns</span> <span class="o">=</span> <span class="p">{</span><span class="n">col</span><span class="p">:</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textwrap</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">width</span><span class="p">))</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">}</span>
    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">wrapped_columns</span><span class="p">)</span>

<span class="c1"># √Ñndere die Pandas-Anzeigeoptionen</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">float_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:,.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span>

<span class="c1"># Zeige das DataFrame an</span>
<span class="n">df_wrapped_subset</span> <span class="o">=</span> <span class="n">wrap_column_names</span><span class="p">(</span><span class="n">df_merged_subset</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">df_wrapped_subset</span> <span class="o">=</span> <span class="n">df_wrapped_subset</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">])</span>
<span class="n">df_wrapped_subset</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Datei existiert bereits unter .\data\sis-temperature-statistics\csv\sis-temperature-statistics-subset-Yearly.csv.zip.
√úberspringen den Export.
Lesen bestehende CSV-Datei ein...
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th></th>
      <th>Yearly_Tmax _mean_rcp45 _mean</th>
      <th>Yearly_Tmax _mean_rcp45 _stdev</th>
      <th>Yearly_Tmax _mean_rcp85 _mean</th>
      <th>Yearly_Tmax _mean_rcp85 _stdev</th>
      <th>Yearly_Tmea n_mean_rcp4 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp4 5_stdev</th>
      <th>Yearly_Tmea n_mean_rcp8 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp8 5_stdev</th>
      <th>Yearly_Tmea n_p10_rcp45 _mean</th>
      <th>Yearly_Tmea n_p10_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p10_rcp85 _mean</th>
      <th>Yearly_Tmea n_p10_rcp85 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp45 _mean</th>
      <th>Yearly_Tmea n_p90_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp85 _mean</th>
      <th>Yearly_Tmea n_p90_rcp85 _stdev</th>
      <th>Yearly_Tmin _mean_rcp45 _mean</th>
      <th>Yearly_Tmin _mean_rcp45 _stdev</th>
      <th>Yearly_Tmin _mean_rcp85 _mean</th>
      <th>Yearly_Tmin _mean_rcp85 _stdev</th>
    </tr>
    <tr>
      <th>time</th>
      <th>lat</th>
      <th>lon</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">1986-01-01</th>
      <th rowspan="3" valign="top">47.60</th>
      <th>9.00</th>
      <td>14.33</td>
      <td>0.37</td>
      <td>14.33</td>
      <td>0.33</td>
      <td>9.97</td>
      <td>0.20</td>
      <td>9.97</td>
      <td>0.17</td>
      <td>-0.13</td>
      <td>0.35</td>
      <td>-0.13</td>
      <td>0.34</td>
      <td>20.15</td>
      <td>0.31</td>
      <td>20.15</td>
      <td>0.27</td>
      <td>5.74</td>
      <td>0.21</td>
      <td>5.74</td>
      <td>0.21</td>
    </tr>
    <tr>
      <th>9.10</th>
      <td>14.45</td>
      <td>0.36</td>
      <td>14.45</td>
      <td>0.32</td>
      <td>10.09</td>
      <td>0.19</td>
      <td>10.09</td>
      <td>0.16</td>
      <td>-0.04</td>
      <td>0.32</td>
      <td>-0.04</td>
      <td>0.30</td>
      <td>20.32</td>
      <td>0.32</td>
      <td>20.32</td>
      <td>0.27</td>
      <td>5.86</td>
      <td>0.20</td>
      <td>5.86</td>
      <td>0.19</td>
    </tr>
    <tr>
      <th>9.20</th>
      <td>14.47</td>
      <td>0.29</td>
      <td>14.47</td>
      <td>0.25</td>
      <td>10.18</td>
      <td>0.20</td>
      <td>10.18</td>
      <td>0.18</td>
      <td>0.11</td>
      <td>0.32</td>
      <td>0.11</td>
      <td>0.31</td>
      <td>20.35</td>
      <td>0.27</td>
      <td>20.35</td>
      <td>0.22</td>
      <td>5.98</td>
      <td>0.24</td>
      <td>5.98</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">47.70</th>
      <th>9.00</th>
      <td>14.46</td>
      <td>0.25</td>
      <td>14.46</td>
      <td>0.23</td>
      <td>10.04</td>
      <td>0.13</td>
      <td>10.04</td>
      <td>0.13</td>
      <td>-0.13</td>
      <td>0.35</td>
      <td>-0.13</td>
      <td>0.33</td>
      <td>20.28</td>
      <td>0.24</td>
      <td>20.28</td>
      <td>0.21</td>
      <td>5.75</td>
      <td>0.17</td>
      <td>5.75</td>
      <td>0.18</td>
    </tr>
    <tr>
      <th>9.10</th>
      <td>14.61</td>
      <td>0.28</td>
      <td>14.61</td>
      <td>0.25</td>
      <td>10.16</td>
      <td>0.14</td>
      <td>10.16</td>
      <td>0.12</td>
      <td>-0.13</td>
      <td>0.31</td>
      <td>-0.13</td>
      <td>0.29</td>
      <td>20.52</td>
      <td>0.29</td>
      <td>20.52</td>
      <td>0.24</td>
      <td>5.85</td>
      <td>0.17</td>
      <td>5.85</td>
      <td>0.16</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">2085-01-01</th>
      <th rowspan="2" valign="top">47.70</th>
      <th>9.10</th>
      <td>16.74</td>
      <td>0.45</td>
      <td>18.44</td>
      <td>0.59</td>
      <td>12.29</td>
      <td>0.33</td>
      <td>13.99</td>
      <td>0.43</td>
      <td>2.18</td>
      <td>0.41</td>
      <td>3.83</td>
      <td>0.47</td>
      <td>22.78</td>
      <td>0.62</td>
      <td>24.90</td>
      <td>1.03</td>
      <td>8.02</td>
      <td>0.24</td>
      <td>9.71</td>
      <td>0.28</td>
    </tr>
    <tr>
      <th>9.20</th>
      <td>16.79</td>
      <td>0.44</td>
      <td>18.49</td>
      <td>0.57</td>
      <td>12.38</td>
      <td>0.33</td>
      <td>14.08</td>
      <td>0.43</td>
      <td>2.24</td>
      <td>0.39</td>
      <td>3.91</td>
      <td>0.44</td>
      <td>22.89</td>
      <td>0.64</td>
      <td>25.00</td>
      <td>1.05</td>
      <td>8.14</td>
      <td>0.25</td>
      <td>9.84</td>
      <td>0.29</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">47.80</th>
      <th>9.00</th>
      <td>15.87</td>
      <td>0.41</td>
      <td>17.58</td>
      <td>0.54</td>
      <td>11.78</td>
      <td>0.43</td>
      <td>13.49</td>
      <td>0.47</td>
      <td>1.97</td>
      <td>0.41</td>
      <td>3.62</td>
      <td>0.43</td>
      <td>21.86</td>
      <td>0.62</td>
      <td>23.96</td>
      <td>0.97</td>
      <td>7.83</td>
      <td>0.52</td>
      <td>9.54</td>
      <td>0.51</td>
    </tr>
    <tr>
      <th>9.10</th>
      <td>16.07</td>
      <td>0.51</td>
      <td>17.78</td>
      <td>0.58</td>
      <td>11.78</td>
      <td>0.40</td>
      <td>13.48</td>
      <td>0.43</td>
      <td>1.85</td>
      <td>0.42</td>
      <td>3.50</td>
      <td>0.48</td>
      <td>22.08</td>
      <td>0.57</td>
      <td>24.17</td>
      <td>0.90</td>
      <td>7.65</td>
      <td>0.36</td>
      <td>9.35</td>
      <td>0.36</td>
    </tr>
    <tr>
      <th>9.20</th>
      <td>16.04</td>
      <td>0.53</td>
      <td>17.74</td>
      <td>0.58</td>
      <td>11.72</td>
      <td>0.38</td>
      <td>13.41</td>
      <td>0.42</td>
      <td>1.78</td>
      <td>0.44</td>
      <td>3.44</td>
      <td>0.51</td>
      <td>22.05</td>
      <td>0.52</td>
      <td>24.12</td>
      <td>0.83</td>
      <td>7.55</td>
      <td>0.29</td>
      <td>9.25</td>
      <td>0.30</td>
    </tr>
  </tbody>
</table>
<p>900 rows √ó 20 columns</p>
</div></div></div>
</div>
</section>
</section>
<section id="exportieren-der-netcdf4-datei-nach-geotiff">
<h2>5. Exportieren der NetCDF4-Datei nach GeoTIFF<a class="headerlink" href="#exportieren-der-netcdf4-datei-nach-geotiff" title="Link to this heading">ÔÉÅ</a></h2>
<section id="definieren-eine-funktion-zum-exportieren-der-netcdf4-datei-als-geotiff-datei-en">
<h3>5.1 Definieren eine Funktion zum Exportieren der NetCDF4-Datei als GeoTIFF-Datei(en)<a class="headerlink" href="#definieren-eine-funktion-zum-exportieren-der-netcdf4-datei-als-geotiff-datei-en" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rasterio.transform</span><span class="w"> </span><span class="kn">import</span> <span class="n">from_origin</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">rasterio</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm.notebook</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>

<span class="k">def</span><span class="w"> </span><span class="nf">main_export_geotiff</span><span class="p">(</span>
    <span class="n">nc_file</span><span class="p">,</span>
    <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">start_year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">end_year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">merged</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">output_directory</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exportiert das gesamte mehrj√§hrige Dataset oder einen angegebenen Bereich als eine einzelne zusammengef√ºhrte GeoTIFF-Datei.</span>

<span class="sd">    Parameter:</span>
<span class="sd">        nc_file (dict): Ein Dictionary mit den Schl√ºsseln &#39;path&#39; (Dateipfad), &#39;variable&#39;, &#39;rcp&#39; und &#39;statistic&#39;.</span>
<span class="sd">        bounding_box (list): [lon_min, lat_min, lon_max, lat_max] (optional).</span>
<span class="sd">        start_year (int): Startjahr f√ºr das Dataset (optional).</span>
<span class="sd">        end_year (int): Endjahr f√ºr das Dataset (optional).</span>
<span class="sd">        merged (bool): Gibt an, ob ein zusammengef√ºhrtes GeoTIFF oder einzelne GeoTIFFs erstellt werden sollen (optional).</span>
<span class="sd">        output_directory (str): Verzeichnis zum Speichern der Ausgabe-GeoTIFF-Dateien (optional).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># √ñffnet die NetCDF-Datei</span>
    <span class="k">with</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">nc_dataset</span><span class="p">:</span>
        <span class="n">nc_dataset</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">lon</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="p">[</span><span class="s1">&#39;lon&#39;</span><span class="p">][:]</span>
        <span class="n">lat</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">][:]</span>
                    
        <span class="c1"># Falls eine Begrenzungsbox angegeben wurde, filtere die Daten entsprechend</span>
        <span class="k">if</span> <span class="n">bounding_box</span><span class="p">:</span>
            <span class="n">lon_min</span><span class="p">,</span> <span class="n">lat_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lat_max</span> <span class="o">=</span> <span class="n">bounding_box</span>
            
            <span class="n">indices_lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">lat</span> <span class="o">&gt;=</span> <span class="n">lat_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">lat</span> <span class="o">&lt;=</span> <span class="n">lat_max</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">indices_lon</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">lon</span> <span class="o">&gt;=</span> <span class="n">lon_min</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">lon</span> <span class="o">&lt;=</span> <span class="n">lon_max</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">start_lat</span><span class="p">,</span> <span class="n">end_lat</span> <span class="o">=</span> <span class="n">indices_lat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">indices_lat</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">start_lon</span><span class="p">,</span> <span class="n">end_lon</span> <span class="o">=</span> <span class="n">indices_lon</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">indices_lon</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">start_lat</span><span class="p">,</span> <span class="n">end_lat</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
            <span class="n">start_lon</span><span class="p">,</span> <span class="n">end_lon</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">lon</span><span class="p">)</span>
        
        <span class="n">lat</span> <span class="o">=</span> <span class="n">lat</span><span class="p">[</span><span class="n">start_lat</span><span class="p">:</span><span class="n">end_lat</span><span class="p">]</span>
        <span class="n">lon</span> <span class="o">=</span> <span class="n">lon</span><span class="p">[</span><span class="n">start_lon</span><span class="p">:</span><span class="n">end_lon</span><span class="p">]</span>
            
        <span class="c1"># Extrahiere die Zeitvariable und konvertiere sie in lesbare Datumsangaben</span>
        <span class="n">time_var</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
        <span class="n">time_units</span> <span class="o">=</span> <span class="n">time_var</span><span class="o">.</span><span class="n">units</span>
        <span class="n">time_calendar</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">time_var</span><span class="p">,</span> <span class="s2">&quot;calendar&quot;</span><span class="p">,</span> <span class="s2">&quot;standard&quot;</span><span class="p">)</span>
        <span class="n">cftime</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">num2date</span><span class="p">(</span><span class="n">time_var</span><span class="p">[:],</span> <span class="n">units</span><span class="o">=</span><span class="n">time_units</span><span class="p">,</span> <span class="n">calendar</span><span class="o">=</span><span class="n">time_calendar</span><span class="p">)</span>
        
        <span class="c1"># Berechnet die r√§umliche Aufl√∂sung und die Rastertransformation</span>
        <span class="n">dx</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">lon</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lon</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">lat</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">lat</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="n">from_origin</span><span class="p">(</span><span class="n">lon</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">-</span> <span class="n">dx</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">lat</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">-</span> <span class="n">dy</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="o">-</span><span class="n">dy</span><span class="p">)</span>
            
        <span class="c1"># Bestimmt den verf√ºgbaren Zeitraum</span>
        <span class="n">min_year</span> <span class="o">=</span> <span class="n">cftime</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">year</span>
        <span class="n">max_year</span> <span class="o">=</span> <span class="n">cftime</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">year</span>

        <span class="k">if</span> <span class="n">start_year</span> <span class="ow">and</span> <span class="n">end_year</span><span class="p">:</span>
            <span class="c1"># Passen Sie start_year und end_year basierend auf dem verf√ºgbaren Zeitraum an</span>
            <span class="k">if</span> <span class="n">start_year</span> <span class="o">&lt;</span> <span class="n">min_year</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Das angegebene Startjahr </span><span class="si">{</span><span class="n">start_year</span><span class="si">}</span><span class="s2"> liegt vor dem Datensatzbereich.&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Das Startjahr wird auf </span><span class="si">{</span><span class="n">min_year</span><span class="si">}</span><span class="s2"> angepasst.&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">end_year</span> <span class="o">&gt;</span> <span class="n">max_year</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Das angegebene Endjahr </span><span class="si">{</span><span class="n">end_year</span><span class="si">}</span><span class="s2"> liegt nach dem Datensatzbereich.&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Das Endjahr wird auf </span><span class="si">{</span><span class="n">max_year</span><span class="si">}</span><span class="s2"> angepasst.&quot;</span><span class="p">)</span>
                
            <span class="n">start_year</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">start_year</span><span class="p">,</span> <span class="n">min_year</span><span class="p">)</span>
            <span class="n">end_year</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">end_year</span><span class="p">,</span> <span class="n">max_year</span><span class="p">)</span>

            <span class="n">dt_full_start</span> <span class="o">=</span> <span class="n">start_year</span>
            <span class="n">dt_full_end</span> <span class="o">=</span> <span class="n">end_year</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Standardm√§√üig wird der gesamte Datensatz verwendet</span>
            <span class="n">dt_full_start</span> <span class="o">=</span> <span class="n">min_year</span>
            <span class="n">dt_full_end</span> <span class="o">=</span> <span class="n">max_year</span>
            <span class="n">start_year</span> <span class="o">=</span> <span class="n">min_year</span>
            <span class="n">end_year</span> <span class="o">=</span> <span class="n">max_year</span>
            
        <span class="c1"># Findet die Indizes, die dem angegebenen Jahresbereich entsprechen</span>
        <span class="n">start_index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cftime</span><span class="p">)</span> <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">start_year</span><span class="p">)</span>
        <span class="n">end_index</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cftime</span><span class="p">)</span> <span class="k">if</span> <span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">end_year</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> 
        
        <span class="c1"># Extrahiere Temperatur-/Variablen-Daten</span>
        <span class="n">variable_data</span> <span class="o">=</span> <span class="n">nc_dataset</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;variable_name&#39;</span><span class="p">]]</span>
        <span class="n">variable_data_subset</span> <span class="o">=</span> <span class="n">variable_data</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">,</span>
                                            <span class="n">start_lat</span><span class="p">:</span><span class="n">end_lat</span><span class="p">,</span>
                                            <span class="n">start_lon</span><span class="p">:</span><span class="n">end_lon</span><span class="p">]</span>
        
        <span class="c1"># Erstellt den Namen des Unterverzeichnisses basierend auf nc_file</span>
        <span class="n">nc_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_statistic&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;rcp&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;rcp_statistic&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;Tmax&quot;</span><span class="p">:</span>
            <span class="n">period_sub_directory</span> <span class="o">=</span> <span class="s2">&quot;Maximale Temperatur&quot;</span>
        <span class="k">elif</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;Tmean&quot;</span><span class="p">:</span>
            <span class="n">period_sub_directory</span> <span class="o">=</span> <span class="s2">&quot;Durchschnittstemperatur&quot;</span>
        <span class="k">elif</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_variable&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;Tmin&quot;</span><span class="p">:</span>
            <span class="n">period_sub_directory</span> <span class="o">=</span> <span class="s2">&quot;Minimale Temperatur&quot;</span>
            
        <span class="k">if</span> <span class="n">merged</span><span class="p">:</span>
            <span class="c1"># Erstellt ein zusammengef√ºhrtes GeoTIFF mit allen Zeitscheiben als separate B√§nder</span>
            <span class="k">if</span> <span class="n">output_directory</span><span class="p">:</span>
                <span class="n">save_directory_path</span> <span class="o">=</span> <span class="n">output_directory</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">subset_directory_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">geotiff_folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">-zusammengef√ºhrt&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">subset_directory_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">save_directory_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subset_directory_path</span><span class="p">,</span> <span class="n">period_sub_directory</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">save_directory_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">output_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_filename</span><span class="si">}</span><span class="s2">-zusammengef√ºhrt-</span><span class="si">{</span><span class="n">dt_full_start</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt_full_end</span><span class="si">}</span><span class="s2">.tif&quot;</span>
            <span class="n">output_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_directory_path</span><span class="p">,</span> <span class="n">output_filename</span><span class="p">)</span>

            <span class="c1"># Erstellt eine GeoTIFF-Datei mit mehreren B√§ndern f√ºr jede Zeitscheibe</span>
            <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                <span class="n">output_filepath</span><span class="p">,</span>
                <span class="s2">&quot;w&quot;</span><span class="p">,</span>
                <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GTiff&quot;</span><span class="p">,</span>
                <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">dtype</span><span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">height</span><span class="o">=</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">count</span><span class="o">=</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">crs</span><span class="o">=</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
                <span class="n">nodata</span><span class="o">=-</span><span class="mi">9999</span><span class="p">,</span>
                <span class="n">transform</span><span class="o">=</span><span class="n">transform</span><span class="p">,</span>        
            <span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">year_index</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                    <span class="n">desc</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Exportiere zusammengef√ºhrte GeoTIFF-Datei von </span><span class="si">{</span><span class="n">start_year</span><span class="si">}</span><span class="s2"> bis </span><span class="si">{</span><span class="n">end_year</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">):</span>
                    <span class="n">band_data</span> <span class="o">=</span> <span class="n">variable_data_subset</span><span class="p">[</span><span class="n">year_index</span><span class="p">,:,:]</span>
                    <span class="n">dt</span> <span class="o">=</span> <span class="n">cftime</span><span class="p">[</span><span class="n">start_index</span> <span class="o">+</span> <span class="n">year_index</span><span class="p">]</span>
                    <span class="n">band_desc</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="si">:</span><span class="s2">04d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span>
                    
                    <span class="c1"># Schreibe jede Jahresscheibe als Band</span>
                    <span class="n">dst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">band_data</span><span class="p">,</span> <span class="n">year_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">dst</span><span class="o">.</span><span class="n">set_band_description</span><span class="p">(</span><span class="n">year_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">band_desc</span><span class="p">)</span>
                    
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">output_directory</span><span class="p">:</span>
                <span class="n">save_directory_path</span> <span class="o">=</span> <span class="n">output_directory</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">subset_directory_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">geotiff_folder</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_file</span><span class="p">[</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">-einzeln&quot;</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">subset_directory_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">save_directory_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subset_directory_path</span><span class="p">,</span> <span class="n">period_sub_directory</span><span class="p">)</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">save_directory_path</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">year_index</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
                                <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;Exportiere einzelne GeoTIFF-Dateien&quot;</span><span class="p">):</span>
                <span class="c1"># Bestimmt das Datum f√ºr die aktuelle Zeitscheibe</span>
                <span class="n">dt</span> <span class="o">=</span> <span class="n">cftime</span><span class="p">[</span><span class="n">start_index</span> <span class="o">+</span> <span class="n">year_index</span><span class="p">]</span>
                <span class="n">dt_full</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="si">:</span><span class="s2">04d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span>

                <span class="c1"># Definiert den Speicherort der Ausgabe-GeoTIFF-Datei            </span>
                <span class="n">output_filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_filename</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">dt_full</span><span class="si">}</span><span class="s2">.tif&quot;</span>
                <span class="n">output_filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">save_directory_path</span><span class="p">,</span> <span class="n">output_filename</span><span class="p">)</span>

                <span class="c1"># Exportiert die aktuelle Zeitscheibe als GeoTIFF</span>
                <span class="k">with</span> <span class="n">rasterio</span><span class="o">.</span><span class="n">open</span><span class="p">(</span>
                    <span class="n">output_filepath</span><span class="p">,</span>
                    <span class="s2">&quot;w&quot;</span><span class="p">,</span>
                    <span class="n">driver</span><span class="o">=</span><span class="s2">&quot;GTiff&quot;</span><span class="p">,</span>
                    <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">dtype</span><span class="p">),</span>
                    <span class="n">width</span><span class="o">=</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                    <span class="n">height</span><span class="o">=</span><span class="n">variable_data_subset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">crs</span><span class="o">=</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
                    <span class="n">nodata</span><span class="o">=-</span><span class="mi">9999</span><span class="p">,</span>
                    <span class="n">transform</span><span class="o">=</span><span class="n">transform</span><span class="p">,</span>
                <span class="p">)</span> <span class="k">as</span> <span class="n">dst</span><span class="p">:</span>
                    <span class="n">year_precipitation_data</span> <span class="o">=</span> <span class="n">variable_data_subset</span><span class="p">[</span><span class="n">year_index</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span>
                    <span class="n">dst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">year_precipitation_data</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">dst</span><span class="o">.</span><span class="n">set_band_description</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="si">:</span><span class="s2">04d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">dt</span><span class="o">.</span><span class="n">day</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>Die Funktion <code class="docutils literal notranslate"><span class="pre">main_export_geotiff</span></code> kann eine einzelne NetCDF-Datei als Eingabe verarbeiten und sie als GeoTIFF exportieren, wobei verschiedene Anpassungsoptionen zur Verf√ºgung stehen.</p>
</div></blockquote>
<ul class="simple">
<li><p>bounding_box (list): [lon_min, lat_min, lon_max, lat_max] (optional).</p></li>
<li><p>start_year (int): Startjahr f√ºr den Datensatz (optional).</p></li>
<li><p>end_year (int): Endjahr f√ºr den Datensatz (optional).</p></li>
<li><p>merged (bool): Legt fest, ob ein zusammengef√ºhrtes GeoTIFF oder einzelne GeoTIFFs erstellt werden sollen (optional).</p></li>
<li><p>output_directory (str): Verzeichnis zum Speichern der exportierten GeoTIFF-Dateien (optional).</p></li>
</ul>
<p>Beispielanwendungen sind in der untenstehenden Zelle aufgef√ºhrt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Anwendungsfall 1:</span>
<span class="c1"># main_export_geotiff(nc_file=nc_files[0],</span>
<span class="c1">#                     bounding_box = [9.0, 47.6, 9.3, 47.8],</span>
<span class="c1">#                     start_year=2000,</span>
<span class="c1">#                     end_year=2005,</span>
<span class="c1">#                     merged=True,</span>
<span class="c1">#                     output_directory=r&quot;C:/Users/DELL/Desktop/Geotiff&quot;)</span>

<span class="c1"># Erkl√§rung:</span>
<span class="c1"># Die Funktion exportiert die erste NetCDF-Datei aus dem nc_files-Dictionary.</span>
<span class="c1"># Die Begrenzungsbox (Bounding Box) ist auf die Region Konstanz festgelegt.</span>
<span class="c1"># Das Startjahr ist auf 2000 und das Endjahr auf 2005 gesetzt.</span>
<span class="c1"># Der Parameter merged ist auf True gesetzt, sodass die NetCDF-Datei nicht als einzelne GeoTIFF-Dateien exportiert wird.</span>
<span class="c1"># Hinweis: Jede NetCDF-Datei wird als separate GeoTIFF-Datei exportiert, wobei alle B√§nder in einer einzigen Datei zusammengef√ºhrt werden.</span>
<span class="c1"># Das Ausgabeverzeichnis ist auf &quot;C:/Users/DELL/Desktop/Geotiff&quot; gesetzt.</span>

<span class="c1"># 2. Anwendungsfall 2:</span>
<span class="c1"># main_export_geotiff(nc_file=nc_files[0])</span>

<span class="c1"># Erkl√§rung:</span>
<span class="c1"># Die Funktion exportiert die erste NetCDF-Datei aus dem nc_files-Dictionary.</span>
<span class="c1"># Keine Begrenzungsbox angegeben ‚Üí der gesamte Datenbereich wird exportiert.</span>
<span class="c1"># Das Startjahr wird auf das erste verf√ºgbare Jahr im Datensatz gesetzt.</span>
<span class="c1"># Das Endjahr wird auf das letzte verf√ºgbare Jahr im Datensatz gesetzt.</span>
<span class="c1"># Der Parameter merged ist nicht explizit gesetzt, daher wird der Standardwert True verwendet ‚Üí Es wird eine zusammengef√ºhrte GeoTIFF-Datei erstellt.</span>
<span class="c1"># Kein Ausgabeverzeichnis definiert ‚Üí Die GeoTIFF-Dateien werden im Standardverzeichnis &quot;geotiff_folder&quot; gespeichert.</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="ausgewahlte-netcdf4-datei-en-in-geotiff-datei-en-exportieren">
<h3>5.2 Ausgew√§hlte NetCDF4-Datei(en) in GeoTIFF-Datei(en) exportieren<a class="headerlink" href="#ausgewahlte-netcdf4-datei-en-in-geotiff-datei-en-exportieren" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Exportiert alle NetCDF-Dateien aus nc_files als kombiniert GeoTIFF-Dateien (Fall: erste 5 Dateien)</span>
    <span class="k">for</span> <span class="n">nc_file</span> <span class="ow">in</span> <span class="n">nc_files</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span> <span class="c1"># Entfernen Sie &quot;[:5]&quot;, um alle Dateien zu exportieren</span>
        <span class="n">main_export_geotiff</span><span class="p">(</span><span class="n">nc_file</span><span class="o">=</span><span class="n">nc_file</span><span class="p">,</span>
                            <span class="n">bounding_box</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">merged</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        
    <span class="c1"># # Exportiert alle NetCDF-Dateien aus nc_files als einzelne GeoTIFF-Dateien,</span>
    <span class="c1"># # wobei jedes Band als separate GeoTIFF-Datei gespeichert wird</span>
    <span class="c1"># for nc_file in nc_files:</span>
    <span class="c1">#     main_export_geotiff(nc_file=nc_file,</span>
    <span class="c1">#                         merged=False)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "d63d2ff2695a4edeb8cc1e6c7bc2a8f1"}</script><script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "10cfb2f3eb6a4446b9649bae022e66c2"}</script><script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "3bbd3dfb72e34db38d84f2f34ef3b6ad"}</script><script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "5aac4a50efbc4650a9a7cd331c7740d2"}</script><script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "bb5d08d9c7dc4345842ef8615a4669da"}</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Zus√§tzlicher Fall (Erweiterte Filterung)</span>
    <span class="n">temp_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">geotiff_folder</span><span class="p">,</span> <span class="s2">&quot;_temp_folder&quot;</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">temp_folder</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="n">main_export_geotiff</span><span class="p">(</span><span class="n">nc_file</span><span class="o">=</span><span class="n">nc_file</span><span class="p">,</span>
                        <span class="n">bounding_box</span><span class="o">=</span><span class="n">bbox_wgs84_konstanz_standard</span><span class="p">,</span>
                        <span class="n">start_year</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
                        <span class="n">end_year</span><span class="o">=</span><span class="mi">2020</span><span class="p">,</span>
                        <span class="n">merged</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">output_directory</span><span class="o">=</span><span class="n">temp_folder</span><span class="p">)</span> <span class="c1"># Zusammengef√ºhrt, nach Datum gefiltert und nach Gebiet gefiltert</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "f0584c3e60124345bdb88e654a619e56"}</script></div>
</div>
</section>
</section>
<section id="analyse-und-visualisierung-optionen">
<h2>6. Analyse und Visualisierung Optionen<a class="headerlink" href="#analyse-und-visualisierung-optionen" title="Link to this heading">ÔÉÅ</a></h2>
<section id="vorbereitung-der-daten-fur-die-visualisierung">
<h3>6.1 Vorbereitung der Daten f√ºr die Visualisierung<a class="headerlink" href="#vorbereitung-der-daten-fur-die-visualisierung" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Daten f√ºr die Region Konstanz filtern (WGS84-Format)</span>
<span class="n">lon_min</span><span class="p">,</span> <span class="n">lat_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">,</span> <span class="n">lat_max</span> <span class="o">=</span> <span class="n">bbox_wgs84_konstanz_standard</span>

<span class="c1"># DataFrame mit einer Abfrage filtern</span>
<span class="n">filtered_df</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df_merged</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
        <span class="s2">&quot;@lat_min &lt;= lat &lt;= @lat_max and @lon_min &lt;= lon &lt;= @lon_max&quot;</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># DataFrame anzeigen</span>
<span class="n">df_wrapped</span> <span class="o">=</span> <span class="n">wrap_column_names</span><span class="p">(</span><span class="n">filtered_df</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">df_wrapped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>lat</th>
      <th>lon</th>
      <th>Yearly_Tmax _mean_rcp45 _mean</th>
      <th>Yearly_Tmax _mean_rcp45 _stdev</th>
      <th>Yearly_Tmax _mean_rcp85 _mean</th>
      <th>Yearly_Tmax _mean_rcp85 _stdev</th>
      <th>Yearly_Tmea n_mean_rcp4 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp4 5_stdev</th>
      <th>Yearly_Tmea n_mean_rcp8 5_mean</th>
      <th>...</th>
      <th>Yearly_Tmea n_p10_rcp85 _mean</th>
      <th>Yearly_Tmea n_p10_rcp85 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp45 _mean</th>
      <th>Yearly_Tmea n_p90_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp85 _mean</th>
      <th>Yearly_Tmea n_p90_rcp85 _stdev</th>
      <th>Yearly_Tmin _mean_rcp45 _mean</th>
      <th>Yearly_Tmin _mean_rcp45 _stdev</th>
      <th>Yearly_Tmin _mean_rcp85 _mean</th>
      <th>Yearly_Tmin _mean_rcp85 _stdev</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1986-01-01</th>
      <td>508</td>
      <td>47.60</td>
      <td>9.00</td>
      <td>14.33</td>
      <td>0.37</td>
      <td>14.33</td>
      <td>0.33</td>
      <td>9.97</td>
      <td>0.20</td>
      <td>9.97</td>
      <td>...</td>
      <td>-0.13</td>
      <td>0.34</td>
      <td>20.15</td>
      <td>0.31</td>
      <td>20.15</td>
      <td>0.27</td>
      <td>5.74</td>
      <td>0.21</td>
      <td>5.74</td>
      <td>0.21</td>
    </tr>
    <tr>
      <th>1986-01-01</th>
      <td>509</td>
      <td>47.60</td>
      <td>9.10</td>
      <td>14.45</td>
      <td>0.36</td>
      <td>14.45</td>
      <td>0.32</td>
      <td>10.09</td>
      <td>0.19</td>
      <td>10.09</td>
      <td>...</td>
      <td>-0.04</td>
      <td>0.30</td>
      <td>20.32</td>
      <td>0.32</td>
      <td>20.32</td>
      <td>0.27</td>
      <td>5.86</td>
      <td>0.20</td>
      <td>5.86</td>
      <td>0.19</td>
    </tr>
    <tr>
      <th>1986-01-01</th>
      <td>510</td>
      <td>47.60</td>
      <td>9.20</td>
      <td>14.47</td>
      <td>0.29</td>
      <td>14.47</td>
      <td>0.25</td>
      <td>10.18</td>
      <td>0.20</td>
      <td>10.18</td>
      <td>...</td>
      <td>0.11</td>
      <td>0.31</td>
      <td>20.35</td>
      <td>0.27</td>
      <td>20.35</td>
      <td>0.22</td>
      <td>5.98</td>
      <td>0.24</td>
      <td>5.98</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>1986-01-01</th>
      <td>603</td>
      <td>47.70</td>
      <td>9.00</td>
      <td>14.46</td>
      <td>0.25</td>
      <td>14.46</td>
      <td>0.23</td>
      <td>10.04</td>
      <td>0.13</td>
      <td>10.04</td>
      <td>...</td>
      <td>-0.13</td>
      <td>0.33</td>
      <td>20.28</td>
      <td>0.24</td>
      <td>20.28</td>
      <td>0.21</td>
      <td>5.75</td>
      <td>0.17</td>
      <td>5.75</td>
      <td>0.18</td>
    </tr>
    <tr>
      <th>1986-01-01</th>
      <td>604</td>
      <td>47.70</td>
      <td>9.10</td>
      <td>14.61</td>
      <td>0.28</td>
      <td>14.61</td>
      <td>0.25</td>
      <td>10.16</td>
      <td>0.14</td>
      <td>10.16</td>
      <td>...</td>
      <td>-0.13</td>
      <td>0.29</td>
      <td>20.52</td>
      <td>0.29</td>
      <td>20.52</td>
      <td>0.24</td>
      <td>5.85</td>
      <td>0.17</td>
      <td>5.85</td>
      <td>0.16</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 23 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gruppierung nach dem &#39;time&#39;-Index und Berechnung des Durchschnitts f√ºr jede Gruppe</span>
<span class="n">filtered_df_average</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">filtered_df_average</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lat&#39;</span><span class="p">,</span> <span class="s1">&#39;lon&#39;</span><span class="p">])</span>

<span class="c1"># DataFrame anzeigen</span>
<span class="n">df_wrapped</span> <span class="o">=</span> <span class="n">wrap_column_names</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">df_wrapped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>Yearly_Tmax _mean_rcp45 _mean</th>
      <th>Yearly_Tmax _mean_rcp45 _stdev</th>
      <th>Yearly_Tmax _mean_rcp85 _mean</th>
      <th>Yearly_Tmax _mean_rcp85 _stdev</th>
      <th>Yearly_Tmea n_mean_rcp4 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp4 5_stdev</th>
      <th>Yearly_Tmea n_mean_rcp8 5_mean</th>
      <th>Yearly_Tmea n_mean_rcp8 5_stdev</th>
      <th>Yearly_Tmea n_p10_rcp45 _mean</th>
      <th>...</th>
      <th>Yearly_Tmea n_p10_rcp85 _mean</th>
      <th>Yearly_Tmea n_p10_rcp85 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp45 _mean</th>
      <th>Yearly_Tmea n_p90_rcp45 _stdev</th>
      <th>Yearly_Tmea n_p90_rcp85 _mean</th>
      <th>Yearly_Tmea n_p90_rcp85 _stdev</th>
      <th>Yearly_Tmin _mean_rcp45 _mean</th>
      <th>Yearly_Tmin _mean_rcp45 _stdev</th>
      <th>Yearly_Tmin _mean_rcp85 _mean</th>
      <th>Yearly_Tmin _mean_rcp85 _stdev</th>
    </tr>
    <tr>
      <th>time</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1986-01-01</th>
      <td>604.00</td>
      <td>14.28</td>
      <td>0.32</td>
      <td>14.28</td>
      <td>0.29</td>
      <td>9.95</td>
      <td>0.20</td>
      <td>9.95</td>
      <td>0.19</td>
      <td>-0.21</td>
      <td>...</td>
      <td>-0.21</td>
      <td>0.31</td>
      <td>20.16</td>
      <td>0.32</td>
      <td>20.16</td>
      <td>0.28</td>
      <td>5.73</td>
      <td>0.25</td>
      <td>5.73</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>1987-01-01</th>
      <td>7,895.00</td>
      <td>14.31</td>
      <td>0.32</td>
      <td>14.31</td>
      <td>0.29</td>
      <td>9.97</td>
      <td>0.20</td>
      <td>9.97</td>
      <td>0.19</td>
      <td>-0.14</td>
      <td>...</td>
      <td>-0.14</td>
      <td>0.31</td>
      <td>20.17</td>
      <td>0.32</td>
      <td>20.17</td>
      <td>0.28</td>
      <td>5.76</td>
      <td>0.25</td>
      <td>5.76</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>1988-01-01</th>
      <td>15,186.00</td>
      <td>14.31</td>
      <td>0.32</td>
      <td>14.31</td>
      <td>0.29</td>
      <td>9.98</td>
      <td>0.20</td>
      <td>9.98</td>
      <td>0.19</td>
      <td>-0.12</td>
      <td>...</td>
      <td>-0.12</td>
      <td>0.31</td>
      <td>20.21</td>
      <td>0.32</td>
      <td>20.21</td>
      <td>0.28</td>
      <td>5.78</td>
      <td>0.25</td>
      <td>5.78</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>1989-01-01</th>
      <td>22,477.00</td>
      <td>14.31</td>
      <td>0.32</td>
      <td>14.31</td>
      <td>0.29</td>
      <td>9.99</td>
      <td>0.20</td>
      <td>9.99</td>
      <td>0.19</td>
      <td>-0.12</td>
      <td>...</td>
      <td>-0.12</td>
      <td>0.31</td>
      <td>20.20</td>
      <td>0.32</td>
      <td>20.20</td>
      <td>0.28</td>
      <td>5.79</td>
      <td>0.25</td>
      <td>5.79</td>
      <td>0.24</td>
    </tr>
    <tr>
      <th>1990-01-01</th>
      <td>29,768.00</td>
      <td>14.35</td>
      <td>0.32</td>
      <td>14.35</td>
      <td>0.29</td>
      <td>10.02</td>
      <td>0.20</td>
      <td>10.02</td>
      <td>0.19</td>
      <td>-0.08</td>
      <td>...</td>
      <td>-0.08</td>
      <td>0.31</td>
      <td>20.23</td>
      <td>0.32</td>
      <td>20.23</td>
      <td>0.28</td>
      <td>5.82</td>
      <td>0.25</td>
      <td>5.82</td>
      <td>0.24</td>
    </tr>
  </tbody>
</table>
<p>5 rows √ó 21 columns</p>
</div></div></div>
</div>
</section>
<section id="definition-von-funktionen-zur-farbgestaltung-der-diagramme">
<h3>6.2 Definition von Funktionen zur Farbgestaltung der Diagramme<a class="headerlink" href="#definition-von-funktionen-zur-farbgestaltung-der-diagramme" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">colorsys</span>

<span class="k">def</span><span class="w"> </span><span class="nf">darken_color</span><span class="p">(</span><span class="n">based_hex_color</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verdunkelt eine Hex-Farbe um einen bestimmten Faktor (0 bis 1).&quot;&quot;&quot;</span>
    <span class="n">factor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mf">0.3</span><span class="p">)</span>
    
    <span class="n">hex_color</span> <span class="o">=</span> <span class="n">based_hex_color</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>  <span class="c1"># Entfernt &#39;#&#39; falls vorhanden</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">16</span><span class="p">)</span>
    
    <span class="c1"># Jede Farbkomponente reduzieren, um die Farbe abzudunkeln (Faktor zwischen 0 und 1)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">factor</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="n">factor</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="n">factor</span><span class="p">)</span>
    
    <span class="c1"># Zur√ºck in Hex umwandeln</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="n">r</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">g</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">b</span><span class="si">:</span><span class="s2">02x</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">darken_and_shift_hue</span><span class="p">(</span><span class="n">base_hex_color</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Verdunkelt eine Hex-Farbe und ver√§ndert ihren Farbton leicht.&quot;&quot;&quot;</span>

    <span class="n">factor</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>  <span class="c1"># Verdunkelungsfaktor</span>
    <span class="n">hue_shift</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mf">0.05</span>  <span class="c1"># Farbtonverschiebung</span>

    <span class="c1"># Hex in RGB umwandeln</span>
    <span class="n">hex_color</span> <span class="o">=</span> <span class="n">base_hex_color</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">],</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">hex_color</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">6</span><span class="p">],</span> <span class="mi">16</span><span class="p">)</span>

    <span class="c1"># RGB (0-255) in HLS (Farbton, Helligkeit, S√§ttigung) umwandeln</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">(</span><span class="n">r</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">,</span> <span class="n">g</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">,</span> <span class="n">b</span> <span class="o">/</span> <span class="mf">255.0</span><span class="p">)</span>

    <span class="c1"># Helligkeit (Verdunkelung) anpassen und Farbton verschieben</span>
    <span class="n">l</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span> <span class="o">*</span> <span class="n">factor</span><span class="p">)</span>  <span class="c1"># Sicherstellen, dass die Helligkeit nicht negativ wird</span>
    <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="n">hue_shift</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span>  <span class="c1"># Farbton im g√ºltigen Bereich halten</span>

    <span class="c1"># Zur√ºck in RGB umwandeln</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">colorsys</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>  <span class="c1"># In 8-Bit-Integer-Format konvertieren</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="n">r</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">g</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="n">b</span><span class="si">:</span><span class="s2">02x</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="c1"># Basisfarben definieren  </span>
<span class="n">base_line_color_1</span> <span class="o">=</span> <span class="s2">&quot;#1f77b4&quot;</span>
<span class="n">base_fill_color_1</span> <span class="o">=</span> <span class="s1">&#39;#aec7e8&#39;</span>

<span class="n">base_line_color_2</span> <span class="o">=</span> <span class="s1">&#39;#ff7f0e&#39;</span>
<span class="n">base_fill_color_2</span> <span class="o">=</span> <span class="s1">&#39;#ffbb78&#39;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="definition-einer-funktion-zur-erstellung-von-liniendiagrammen-mit-fehlerbereich">
<h3>6.3 Definition einer Funktion zur Erstellung von Liniendiagrammen mit Fehlerbereich<a class="headerlink" href="#definition-einer-funktion-zur-erstellung-von-liniendiagrammen-mit-fehlerbereich" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ticker</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_with_shaded_area</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y_mean</span><span class="p">,</span> <span class="n">y_stdev</span><span class="p">,</span> <span class="n">line_color</span><span class="p">,</span> <span class="n">fill_color</span><span class="p">,</span> <span class="n">line_label</span><span class="p">,</span> <span class="n">fill_label</span><span class="p">,</span> <span class="n">marker_style</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hilfsfunktion zum Plotten von Mittelwertlinien mit schattiertem Fehlerbereich.&quot;&quot;&quot;</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_mean</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">line_color</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">line_label</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker_style</span><span class="p">,</span> <span class="n">markevery</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y_mean</span> <span class="o">-</span> <span class="n">y_stdev</span><span class="p">,</span> <span class="n">y_mean</span> <span class="o">+</span> <span class="n">y_stdev</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">fill_color</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">fill_label</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_line_and_shade</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="p">,</span> <span class="n">variable_name_list</span><span class="p">):</span>
    <span class="c1"># Diagramm erstellen</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;#f1f1f1&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>

    <span class="n">y_max_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">y_min_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">variable_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">variable_name_list</span><span class="p">):</span>
        <span class="c1"># Daten f√ºr RCP4.5 plotten</span>
        <span class="n">plot_with_shaded_area</span><span class="p">(</span>
            <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
            <span class="n">x</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">y_mean</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_mean&quot;</span><span class="p">],</span>
            <span class="n">y_stdev</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_stdev&quot;</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="n">darken_and_shift_hue</span><span class="p">(</span><span class="n">base_line_color_1</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
            <span class="n">fill_color</span><span class="o">=</span><span class="n">darken_and_shift_hue</span><span class="p">(</span><span class="n">base_fill_color_1</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
            <span class="n">line_label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_mean&quot;</span><span class="p">,</span>
            <span class="n">fill_label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_stdev&quot;</span><span class="p">,</span>
            <span class="n">marker_style</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>

        <span class="c1"># Daten f√ºr RCP8.5 plotten</span>
        <span class="n">plot_with_shaded_area</span><span class="p">(</span>
            <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span>
            <span class="n">x</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">y_mean</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_mean&quot;</span><span class="p">],</span>
            <span class="n">y_stdev</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_stdev&quot;</span><span class="p">],</span>
            <span class="n">line_color</span><span class="o">=</span><span class="n">darken_and_shift_hue</span><span class="p">(</span><span class="n">base_line_color_2</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
            <span class="n">fill_color</span><span class="o">=</span><span class="n">darken_and_shift_hue</span><span class="p">(</span><span class="n">base_fill_color_2</span><span class="p">,</span> <span class="n">i</span><span class="p">),</span>
            <span class="n">line_label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_mean&quot;</span><span class="p">,</span>
            <span class="n">fill_label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_stdev&quot;</span><span class="p">,</span>
            <span class="n">marker_style</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">)</span>

        <span class="c1"># Dynamische Anpassung der Y-Achse</span>
        <span class="n">interval</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="n">rcp45_min</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">-</span> \
                    <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_stdev&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">rcp85_min</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">-</span> \
                    <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_stdev&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">y_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">rcp45_min</span><span class="p">,</span> <span class="n">rcp85_min</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
        <span class="n">y_min</span> <span class="o">=</span> <span class="n">y_min</span> <span class="o">//</span> <span class="n">interval</span> <span class="o">*</span> <span class="n">interval</span>

        <span class="n">rcp45_max</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> \
                    <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp45_stdev&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">rcp85_max</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_mean&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> \
                    <span class="n">filtered_df_average</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="si">}</span><span class="s2">_rcp85_stdev&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="n">y_max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rcp45_max</span><span class="p">,</span> <span class="n">rcp85_max</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.5</span>
        <span class="n">y_max</span> <span class="o">=</span> <span class="p">(</span><span class="n">y_max</span> <span class="o">+</span> <span class="n">interval</span><span class="p">)</span> <span class="o">//</span> <span class="n">interval</span> <span class="o">*</span> <span class="n">interval</span>

        <span class="n">y_max_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_max</span><span class="p">)</span>
        <span class="n">y_min_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_min</span><span class="p">)</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">y_min_list</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y_max_list</span><span class="p">))</span>
    
    <span class="c1"># X-Achse f√ºr bessere Lesbarkeit anpassen</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">5</span><span class="p">])</span>
    <span class="n">tick_positions</span> <span class="o">=</span> <span class="n">filtered_df_average</span><span class="o">.</span><span class="n">index</span><span class="p">[::</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">tick_labels</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">date</span><span class="p">)</span><span class="o">.</span><span class="n">year</span><span class="p">)</span> <span class="k">for</span> <span class="n">date</span> <span class="ow">in</span> <span class="n">tick_positions</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">ticks</span><span class="o">=</span><span class="n">tick_positions</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">tick_labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="c1"># Gitterlinien hinzuf√ºgen</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#b0b0b0&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">ticker</span><span class="o">.</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%0.2f</span><span class="s1">&#39;</span><span class="p">))</span>

    <span class="c1"># Achsenbeschriftungen und Titel anpassen</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Jahr&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Temperatur (¬∞C)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Durchschnittliche </span><span class="si">{</span><span class="n">variable_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">-Temperatur </span><span class="se">\n</span><span class="s2">(Vergleich der Szenarien RCP 4.5 und RCP 8.5)&quot;</span><span class="p">,</span>
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
        <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span>
    <span class="p">)</span>
    
    <span class="c1"># Beschreibung und Quelle hinzuf√ºgen</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figtext</span><span class="p">(</span>
        <span class="mf">0.5</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">0.05</span><span class="p">,</span>
        <span class="p">(</span>
            <span class="s1">&#39;Beschreibung: Durchschnittliche Lufttemperatur pro Jahr, g√ºltig in 2 m H√∂he √ºber der Oberfl√§che.</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;Quelle: Hooyberghs, H., Berckmans, J., Lefebre, F., De Ridder, K. (2019):</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;Temperaturstatistiken f√ºr Europa basierend auf Klimaprojektionen.</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;Copernicus Climate Change Service (C3S) Climate Data Store (CDS).</span><span class="se">\n</span><span class="s1">&#39;</span>
            <span class="s1">&#39;DOI: 10.24381/cds.8be2c014 (Zugriff am 14-10-2024)&#39;</span>
        <span class="p">),</span>
        <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
        <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
        <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
        <span class="n">wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">backgroundcolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
    <span class="p">)</span>
    
    <span class="c1"># Legende anpassen</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">variable_name_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Szenario&#39;</span><span class="p">,</span> <span class="n">title_fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
                  <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Szenario&#39;</span><span class="p">,</span> <span class="n">title_fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span>
                  <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">))</span>
    
    <span class="c1"># Layout anpassen und Diagramm anzeigen</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisierung">
<h3>6.4 Visualisierung<a class="headerlink" href="#visualisierung" title="Link to this heading">ÔÉÅ</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Einzelne Datensatzvariable visualisieren</span>
    <span class="n">plot_line_and_shade</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">,</span>
                         <span class="n">variable_name_list</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmax_mean&quot;</span><span class="p">])</span>
    <span class="n">plot_line_and_shade</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">,</span>
                         <span class="n">variable_name_list</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmean_mean&quot;</span><span class="p">])</span>
    <span class="n">plot_line_and_shade</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">,</span>
                         <span class="n">variable_name_list</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmin_mean&quot;</span><span class="p">])</span>

    <span class="c1"># Mehrere Datensatzvariablen visualisieren</span>
    <span class="n">plot_line_and_shade</span><span class="p">(</span><span class="n">filtered_df_average</span><span class="o">=</span><span class="n">filtered_df_average</span><span class="p">,</span>
                         <span class="n">variable_name_list</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmax_mean&quot;</span><span class="p">,</span>
                                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmean_mean&quot;</span><span class="p">,</span>
                                             <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">nc_files</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;ds_period&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">_Tmin_mean&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/c866d1e00aee77c2715f5a68b679fe32f410e4c858f719e8ff313b071d6cbb48.png" src="../../_images/c866d1e00aee77c2715f5a68b679fe32f410e4c858f719e8ff313b071d6cbb48.png" />
<img alt="../../_images/31d621cb8a217a94920e0598039abda06e0e31bbac755cbbef2a14c529305413.png" src="../../_images/31d621cb8a217a94920e0598039abda06e0e31bbac755cbbef2a14c529305413.png" />
<img alt="../../_images/c3e0a1d88f563bf45826bba8337c2baba4e06a75aab8db2fad081eaae0d51446.png" src="../../_images/c3e0a1d88f563bf45826bba8337c2baba4e06a75aab8db2fad081eaae0d51446.png" />
<img alt="../../_images/fdd154c55c6035234719ddbc20cbd78680963ee4550cbc57b3a32d3bd49fa1c2.png" src="../../_images/fdd154c55c6035234719ddbc20cbd78680963ee4550cbc57b3a32d3bd49fa1c2.png" />
</div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="02-satellite-lake-water-temperature.html" class="btn btn-neutral float-left" title="Seewassertemperatur aus Satellitendaten abgeleitet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Zur√ºck</a>
        <a href="../../rst_jupyter_bibliothek/index.html" class="btn btn-neutral float-right" title="√úber CoKLIMAx-II Notebooks" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, str.ucture GmbH.</p>
  </div>

  Erstellt mit <a href="https://www.sphinx-doc.org/">Sphinx</a> mit einem
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    bereitgestellt von <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>